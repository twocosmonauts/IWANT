{
	"name": "Event sheet 1",
	"events": [
		{
			"eventType": "variable",
			"name": "CellSize",
			"type": "number",
			"initialValue": "8",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 482696417274885
		},
		{
			"eventType": "variable",
			"name": "CellOffset",
			"type": "number",
			"initialValue": "24",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 107657246257206
		},
		{
			"eventType": "variable",
			"name": "index",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 282621224296982
		},
		{
			"eventType": "variable",
			"name": "FlipFlop",
			"type": "number",
			"initialValue": "0",
			"comment": "",
			"isStatic": false,
			"isConstant": false,
			"sid": 956385394907155
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Puzzle",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 775776951095698
						}
					],
					"actions": [
						{
							"id": "destroy",
							"objectClass": "Magic",
							"sid": 861984342915859
						}
					],
					"sid": 822939544495860,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 630614412582221,
									"parameters": {
										"animation": "\"want\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 916587347438140,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"Want\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 211370433225979,
									"parameters": {
										"instance-variable": "Name",
										"value": "\"i want\""
									}
								},
								{
									"id": "set-animation",
									"objectClass": "Idea",
									"sid": 196826749177481,
									"parameters": {
										"animation": "\"want\"",
										"from": "beginning"
									}
								}
							],
							"sid": 245656133176903
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drop",
							"objectClass": "Idea",
							"sid": 348934494994161,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [],
					"sid": 412082632180563,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Idea",
									"sid": 215733762635335,
									"parameters": {
										"object": "Ideas"
									}
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "Idea",
									"sid": 220311813693971,
									"parameters": {
										"x": "Idea.XX",
										"y": "Idea.YY"
									}
								}
							],
							"sid": 720632132074176
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "else",
									"objectClass": "System",
									"sid": 594862930726990
								}
							],
							"actions": [
								{
									"id": "call-function",
									"objectClass": "Function",
									"sid": 785199019328412,
									"parameters": {
										"name": "\"CheckSpawnIdea\"",
										"parameter-n": []
									}
								}
							],
							"sid": 639573678574052
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-drag-start",
							"objectClass": "Idea",
							"sid": 423052802639818,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [
						{
							"id": "set-instvar-value",
							"objectClass": "Idea",
							"sid": 358237078652376,
							"parameters": {
								"instance-variable": "XX",
								"value": "Idea.X"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Idea",
							"sid": 486527398370263,
							"parameters": {
								"instance-variable": "YY",
								"value": "Idea.Y"
							}
						}
					],
					"sid": 567851295958168,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "trigger-once-while-true",
									"objectClass": "System",
									"sid": 670065399761288
								}
							],
							"actions": [],
							"sid": 526349428881979
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-dragging",
							"objectClass": "Idea",
							"sid": 768503764932647,
							"behaviorType": "DragDrop"
						}
					],
					"actions": [
						{
							"id": "set-position",
							"objectClass": "Idea",
							"sid": 358785703058030,
							"parameters": {
								"x": "clamp((floor(Mouse.X(\"puzzle\")/CellSize)*CellSize),T_Grid.X+Idea.X-idea.BBoxLeft,T_Grid.X+T_Grid.Width+Idea.X-idea.BBoxRight)",
								"y": "clamp((floor(Mouse.Y(\"puzzle\")/CellSize)*CellSize),T_Grid.Y+Idea.Y-idea.BBoxTop,T_Grid.y+T_Grid.height+Idea.Y-idea.BBoxBottom)"
							}
						},
						{
							"id": "move-to-top",
							"objectClass": "Idea",
							"sid": 288362481003266
						}
					],
					"sid": 224391444318302,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 866046365653340,
									"parameters": {
										"key": 82
									}
								}
							],
							"actions": [
								{
									"id": "rotate-clockwise",
									"objectClass": "Idea",
									"sid": 177593262929373,
									"parameters": {
										"degrees": "90"
									}
								}
							],
							"sid": 298709626920129
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 736953657337889,
							"parameters": {
								"name": "\"SpawnNewThink\""
							}
						}
					],
					"actions": [
						{
							"id": "create-object",
							"objectClass": "System",
							"sid": 536366026352004,
							"parameters": {
								"object-to-create": "Idea",
								"layer": "3",
								"x": "-100",
								"y": "-100",
								"create-hierarchy": false,
								"template-name": "\"\""
							}
						},
						{
							"id": "set-animation",
							"objectClass": "Idea",
							"sid": 961471352124039,
							"parameters": {
								"animation": "Function.Param(0)",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "Idea",
							"sid": 118490972155038,
							"parameters": {
								"instance-variable": "UIDOnMap",
								"value": "Function.Param(2)"
							}
						}
					],
					"sid": 878827961572138,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 852176373898067,
									"parameters": {
										"animation": "\"how\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 842566095513000,
									"parameters": {
										"instance-variable": "Name",
										"value": "Function.Param(1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 655122330997816,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"How\""
									}
								}
							],
							"sid": 300988658235358
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 897072171869539,
									"parameters": {
										"animation": "\"Do\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 655535123192613,
									"parameters": {
										"instance-variable": "Name",
										"value": "Function.Param(1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 647451114593606,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"Do\""
									}
								}
							],
							"sid": 273489863403388
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 205364742063314,
									"parameters": {
										"animation": "\"what\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 315615824758514,
									"parameters": {
										"instance-variable": "Name",
										"value": "Function.Param(1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 849521013720652,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"What\""
									}
								}
							],
							"sid": 976463584131763
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 403871275384305,
									"parameters": {
										"animation": "\"whom\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 658963194575221,
									"parameters": {
										"instance-variable": "Name",
										"value": "Function.Param(1)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 318492810967343,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"Whom\""
									}
								}
							],
							"sid": 860915786889092
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-animation-playing",
									"objectClass": "Idea",
									"sid": 568692302138844,
									"parameters": {
										"animation": "\"want\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 674773230104841,
									"parameters": {
										"instance-variable": "Type",
										"value": "\"Want\""
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Idea",
									"sid": 847115939221424,
									"parameters": {
										"instance-variable": "Name",
										"value": "\"i want\""
									}
								}
							],
							"sid": 769169877174616
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "while",
									"objectClass": "System",
									"sid": 806986177791614
								}
							],
							"actions": [
								{
									"id": "rotate-clockwise",
									"objectClass": "Idea",
									"sid": 298836063905124,
									"parameters": {
										"degrees": "90"
									}
								},
								{
									"id": "set-position",
									"objectClass": "Idea",
									"sid": 574924194101493,
									"parameters": {
										"x": "floor(random(T_Grid.X+Idea.X-idea.BBoxLeft,T_Grid.X+T_Grid.Width+Idea.X-idea.BBoxRight+8)/CellSize)*CellSize",
										"y": "floor(random(T_Grid.Y+Idea.Y-idea.BBoxTop,T_Grid.y+T_Grid.height+Idea.Y-idea.BBoxBottom+8)/CellSize)*CellSize"
									}
								}
							],
							"sid": 108085363890633,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-overlapping-another-object",
											"objectClass": "Idea",
											"sid": 825821691236648,
											"parameters": {
												"object": "Ideas"
											},
											"isInverted": true
										}
									],
									"actions": [
										{
											"id": "stop-loop",
											"objectClass": "System",
											"sid": 844764934776682
										},
										{
											"id": "set-text",
											"objectClass": "SF_Title",
											"sid": 633279804207085,
											"parameters": {
												"text": "loopindex"
											}
										}
									],
									"sid": 649169694418732
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-two-values",
											"objectClass": "System",
											"sid": 597923716025172,
											"parameters": {
												"first-value": "loopindex",
												"comparison": 4,
												"second-value": "1000"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Idea",
											"sid": 750037652379257
										},
										{
											"id": "stop-loop",
											"objectClass": "System",
											"sid": 650224867552370
										},
										{
											"id": "set-text",
											"objectClass": "SF_Title",
											"sid": 660988829214477,
											"parameters": {
												"text": "loopindex"
											}
										}
									],
									"sid": 639691801594083
								}
							]
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 478889134730994,
							"parameters": {
								"name": "\"GetType\""
							}
						}
					],
					"actions": [],
					"sid": 169886346857834,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Idea",
									"sid": 175852838632055,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [
								{
									"id": "set-return-value",
									"objectClass": "Function",
									"sid": 404117363428522,
									"parameters": {
										"value": "Idea.Type"
									}
								}
							],
							"sid": 655962933584189
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 298349399049122,
							"parameters": {
								"name": "\"GetName\""
							}
						}
					],
					"actions": [],
					"sid": 205068145237578,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Idea",
									"sid": 977366760278641,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [
								{
									"id": "set-return-value",
									"objectClass": "Function",
									"sid": 324218435032719,
									"parameters": {
										"value": "Idea.Name"
									}
								}
							],
							"sid": 937474948329843
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 901185009148451,
							"parameters": {
								"name": "\"GetUIDOnMap\""
							}
						}
					],
					"actions": [],
					"sid": 458625137392791,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Idea",
									"sid": 712185923826620,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [
								{
									"id": "set-return-value",
									"objectClass": "Function",
									"sid": 313964475635276,
									"parameters": {
										"value": "Idea.UIDOnMap"
									}
								}
							],
							"sid": 282826912087885
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 634987036033358,
							"parameters": {
								"name": "\"DestroyIdeas\""
							}
						}
					],
					"actions": [],
					"sid": 251193441542892,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "pick-by-unique-id",
									"objectClass": "Idea",
									"sid": 532053506311931,
									"parameters": {
										"unique-id": "Function.Param(0)"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Idea",
									"sid": 413042091525250
								}
							],
							"sid": 727665654070158
						}
					]
				}
			],
			"sid": 587627816527927
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "MapGenerate",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-start-of-layout",
							"objectClass": "System",
							"sid": 222317396498413
						}
					],
					"actions": [],
					"sid": 579209249591247,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "repeat",
									"objectClass": "System",
									"sid": 971699161514135,
									"parameters": {
										"count": "4"
									}
								}
							],
							"actions": [
								{
									"id": "set-at-x",
									"objectClass": "A_Destroyer",
									"sid": 128877249536288,
									"parameters": {
										"x": "0",
										"value": "60"
									}
								},
								{
									"id": "set-at-x",
									"objectClass": "A_Destroyer",
									"sid": 685679644620783,
									"parameters": {
										"x": "1",
										"value": "60"
									}
								}
							],
							"sid": 571740068832659,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "repeat",
											"objectClass": "System",
											"sid": 677543288926605,
											"parameters": {
												"count": "1000"
											}
										}
									],
									"actions": [
										{
											"id": "set-at-x",
											"objectClass": "A_Destroyer",
											"sid": 850473411879119,
											"parameters": {
												"x": "2",
												"value": "choose(0,1,2,3)"
											}
										},
										{
											"id": "set-at-xy",
											"objectClass": "A_Level",
											"sid": 596413972646214,
											"parameters": {
												"x": "A_Destroyer.At(0)",
												"y": "A_Destroyer.At(1)",
												"value": "1"
											}
										}
									],
									"sid": 179024568256225,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_Destroyer",
													"sid": 805962935403474,
													"parameters": {
														"x": "2",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "set-at-x",
													"objectClass": "A_Destroyer",
													"sid": 187428157423785,
													"parameters": {
														"x": "0",
														"value": "A_Destroyer.At(0)+1"
													}
												}
											],
											"sid": 590834071761958
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_Destroyer",
													"sid": 107234466988109,
													"parameters": {
														"x": "2",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "set-at-x",
													"objectClass": "A_Destroyer",
													"sid": 436055774117618,
													"parameters": {
														"x": "1",
														"value": "A_Destroyer.At(1)+1"
													}
												}
											],
											"sid": 616795743326056
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_Destroyer",
													"sid": 902080626200423,
													"parameters": {
														"x": "2",
														"comparison": 0,
														"value": "2"
													}
												}
											],
											"actions": [
												{
													"id": "set-at-x",
													"objectClass": "A_Destroyer",
													"sid": 505792812724543,
													"parameters": {
														"x": "0",
														"value": "A_Destroyer.At(0)-1"
													}
												}
											],
											"sid": 237202476065940
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_Destroyer",
													"sid": 110770227340016,
													"parameters": {
														"x": "2",
														"comparison": 0,
														"value": "3"
													}
												}
											],
											"actions": [
												{
													"id": "set-at-x",
													"objectClass": "A_Destroyer",
													"sid": 988437127234435,
													"parameters": {
														"x": "1",
														"value": "A_Destroyer.At(1)-1"
													}
												}
											],
											"sid": 696392935411736
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "A_Level",
									"sid": 240323036721466,
									"parameters": {
										"axes": "xy"
									}
								}
							],
							"actions": [
								{
									"id": "set-tile",
									"objectClass": "TM_LevelGround",
									"sid": 597594267737963,
									"parameters": {
										"tile-x": "A_Level.CurX",
										"tile-y": "A_Level.CurY",
										"tile": "floor(random(16))",
										"state": "rotated-90"
									}
								}
							],
							"sid": 313018863184992,
							"children": [
								{
									"eventType": "variable",
									"name": "Cleaner",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 392613499827300
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-current-value",
											"objectClass": "A_Level",
											"sid": 179310915411220,
											"parameters": {
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 391002008360138,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 353393951379599,
													"parameters": {
														"x": "A_Level.CurX+1",
														"y": "A_Level.CurY",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 759894422073997,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 417973132195209
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 108215898653703,
													"parameters": {
														"x": "A_Level.CurX+1",
														"y": "A_Level.CurY+1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 804799617360406,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 198649846132402
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 886408297763569,
													"parameters": {
														"x": "A_Level.CurX",
														"y": "A_Level.CurY+1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 784857258332051,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 372126747898478
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 309307845443543,
													"parameters": {
														"x": "A_Level.CurX-1",
														"y": "A_Level.CurY+1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 173551812050153,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 481248614102971
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 371851698827602,
													"parameters": {
														"x": "A_Level.CurX-1",
														"y": "A_Level.CurY",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 252402848029913,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 283443325679680
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 526425271554978,
													"parameters": {
														"x": "A_Level.CurX-1",
														"y": "A_Level.CurY-1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 421265171973154,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 955940178061796
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 956946568814386,
													"parameters": {
														"x": "A_Level.CurX",
														"y": "A_Level.CurY-1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 231528784877263,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 679733796971041
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 604778273511803,
													"parameters": {
														"x": "A_Level.CurX+1",
														"y": "A_Level.CurY-1",
														"comparison": 0,
														"value": "0"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 878019609638731,
													"parameters": {
														"variable": "Cleaner",
														"value": "1"
													}
												}
											],
											"sid": 952613242795928
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 917039204563266
												},
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 719818038581017,
													"parameters": {
														"variable": "Cleaner",
														"comparison": 3,
														"value": "2"
													}
												}
											],
											"actions": [
												{
													"id": "set-at-xy",
													"objectClass": "A_Level",
													"sid": 483491148104856,
													"parameters": {
														"x": "A_Level.CurX",
														"y": "A_Level.CurY",
														"value": "1"
													}
												}
											],
											"sid": 677051405203016
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "A_Level",
									"sid": 532129323327306,
									"parameters": {
										"axes": "xy"
									}
								}
							],
							"actions": [
								{
									"id": "set-tile",
									"objectClass": "TM_LevelWall",
									"sid": 399757703745382,
									"parameters": {
										"tile-x": "A_Level.CurX",
										"tile-y": "A_Level.CurY",
										"tile": "A_Level.CurValue",
										"state": "normal"
									}
								}
							],
							"sid": 747944881567333,
							"children": [
								{
									"eventType": "variable",
									"name": "whatwhom",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 939076594899157
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-tile-at",
											"objectClass": "TM_LevelWall",
											"sid": 127859646220130,
											"parameters": {
												"tile-x": "A_Level.CurX",
												"tile-y": "A_Level.CurY",
												"comparison": 0,
												"tile": "1"
											}
										}
									],
									"actions": [
										{
											"id": "erase-tile",
											"objectClass": "TM_LevelWall",
											"sid": 948134384913586,
											"parameters": {
												"tile-x": "A_Level.CurX",
												"tile-y": "A_Level.CurY"
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 793810972857055,
											"parameters": {
												"variable": "whatwhom",
												"value": "choose(0,1)"
											}
										}
									],
									"sid": 715330892521434,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-two-values",
													"objectClass": "System",
													"sid": 552337904277668,
													"parameters": {
														"first-value": "random(1)",
														"comparison": 3,
														"second-value": "0.15"
													}
												}
											],
											"actions": [],
											"sid": 861957027032415,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-eventvar",
															"objectClass": "System",
															"sid": 934239374418427,
															"parameters": {
																"variable": "whatwhom",
																"comparison": 0,
																"value": "0"
															}
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 304001938578255,
															"parameters": {
																"object-to-create": "Item",
																"layer": "1",
																"x": "A_Level.CurX*16",
																"y": "A_Level.CurY*16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-animation-frame",
															"objectClass": "Item",
															"sid": 207732710320857,
															"parameters": {
																"frame-number": "choose(0,1,1,2,2,2,2,2,3,3,4)"
															}
														}
													],
													"sid": 232741849039010,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-animation-frame",
																	"objectClass": "Item",
																	"sid": 944770976028914,
																	"parameters": {
																		"comparison": 0,
																		"number": "0"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 212479404854076,
																	"parameters": {
																		"instance-variable": "Name",
																		"value": "\"dagger\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 523324579873885,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "15"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 356812012275883,
																	"parameters": {
																		"instance-variable": "Price",
																		"value": "30"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 581556382269934,
																	"parameters": {
																		"instance-variable": "Heal",
																		"value": "-15"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Item",
																	"sid": 605572521093692,
																	"parameters": {
																		"instance-variable": "edible",
																		"value": "false"
																	}
																}
															],
															"sid": 243356606085223
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-animation-frame",
																	"objectClass": "Item",
																	"sid": 124287735875152,
																	"parameters": {
																		"comparison": 0,
																		"number": "1"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 873675748664274,
																	"parameters": {
																		"instance-variable": "Name",
																		"value": "\"boot\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 162607553868535,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "5"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 211201718625848,
																	"parameters": {
																		"instance-variable": "Price",
																		"value": "10"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 850385357319737,
																	"parameters": {
																		"instance-variable": "Heal",
																		"value": "-5"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Item",
																	"sid": 189878594804821,
																	"parameters": {
																		"instance-variable": "edible",
																		"value": "false"
																	}
																}
															],
															"sid": 939684775809922
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-animation-frame",
																	"objectClass": "Item",
																	"sid": 286651062646968,
																	"parameters": {
																		"comparison": 0,
																		"number": "2"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 344226398124870,
																	"parameters": {
																		"instance-variable": "Name",
																		"value": "\"rock\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 966544313005523,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "7"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 383147147408177,
																	"parameters": {
																		"instance-variable": "Price",
																		"value": "1"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 542960775317229,
																	"parameters": {
																		"instance-variable": "Heal",
																		"value": "-10"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Item",
																	"sid": 605192189065556,
																	"parameters": {
																		"instance-variable": "edible",
																		"value": "false"
																	}
																}
															],
															"sid": 888425526174334
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-animation-frame",
																	"objectClass": "Item",
																	"sid": 476166872504491,
																	"parameters": {
																		"comparison": 0,
																		"number": "3"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 763605668092423,
																	"parameters": {
																		"instance-variable": "Name",
																		"value": "\"apple\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 746281013081644,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "2"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 336543380217603,
																	"parameters": {
																		"instance-variable": "Price",
																		"value": "5"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 536646690073529,
																	"parameters": {
																		"instance-variable": "Heal",
																		"value": "10"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Item",
																	"sid": 534126696140801,
																	"parameters": {
																		"instance-variable": "edible",
																		"value": "true"
																	}
																}
															],
															"sid": 644673394724009
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-animation-frame",
																	"objectClass": "Item",
																	"sid": 695277915897994,
																	"parameters": {
																		"comparison": 0,
																		"number": "4"
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 183073646500189,
																	"parameters": {
																		"instance-variable": "Name",
																		"value": "\"potion\""
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 722220282661731,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "5"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 981063724551278,
																	"parameters": {
																		"instance-variable": "Price",
																		"value": "15"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Item",
																	"sid": 219682350907187,
																	"parameters": {
																		"instance-variable": "Heal",
																		"value": "30"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "Item",
																	"sid": 346321025349656,
																	"parameters": {
																		"instance-variable": "edible",
																		"value": "true"
																	}
																}
															],
															"sid": 389700941055915
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 907994113720699
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 300427150003743,
															"parameters": {
																"object-to-create": "NPC",
																"layer": "1",
																"x": "A_Level.CurX*16",
																"y": "A_Level.CurY*16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-instvar-value",
															"objectClass": "NPC",
															"sid": 120602621224676,
															"parameters": {
																"instance-variable": "Name",
																"value": "choose(\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"skeleton\",\"knight\",\"knight\",\"merchant\")"
															}
														}
													],
													"sid": 450406653514394,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "NPC",
																	"sid": 888015369549673,
																	"parameters": {
																		"instance-variable": "Name",
																		"comparison": 0,
																		"value": "\"skeleton\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 768879316499270,
																	"parameters": {
																		"instance-variable": "MaxHP",
																		"value": "floor(random(5,16))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 935467532032011,
																	"parameters": {
																		"instance-variable": "CurrentHP",
																		"value": "NPC.MaxHP"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 236700412287009,
																	"parameters": {
																		"instance-variable": "relation",
																		"value": "floor(random(-5,-1))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 903375247706970,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "floor(random(6,12))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 368484812444614,
																	"parameters": {
																		"instance-variable": "exp",
																		"value": "floor((NPC.MaxHP*NPC.Damage)/10)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 127064286279410,
																	"parameters": {
																		"instance-variable": "Money",
																		"value": "floor(random(5,16))"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "NPC",
																	"sid": 492723214485862,
																	"parameters": {
																		"animation": "\"skeletonidle\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-animation-frame",
																	"objectClass": "NPC",
																	"sid": 733119945929751,
																	"parameters": {
																		"frame-number": "floor(random(NPC.AnimationFrameCount))"
																	}
																}
															],
															"sid": 421332198068371
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "NPC",
																	"sid": 450829372788066,
																	"parameters": {
																		"instance-variable": "Name",
																		"comparison": 0,
																		"value": "\"knight\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 713740066620565,
																	"parameters": {
																		"instance-variable": "MaxHP",
																		"value": "floor(random(30,61))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 701897857686171,
																	"parameters": {
																		"instance-variable": "CurrentHP",
																		"value": "NPC.MaxHP"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 335821313089872,
																	"parameters": {
																		"instance-variable": "relation",
																		"value": "floor(random(-1,2))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 454230284102151,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "floor(random(15,26))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 661385016807163,
																	"parameters": {
																		"instance-variable": "exp",
																		"value": "floor((NPC.MaxHP*NPC.Damage)/10)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 864776289484463,
																	"parameters": {
																		"instance-variable": "Money",
																		"value": "floor(random(15,31))"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "NPC",
																	"sid": 252312628714876,
																	"parameters": {
																		"animation": "\"knightidle\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-animation-frame",
																	"objectClass": "NPC",
																	"sid": 382940117397365,
																	"parameters": {
																		"frame-number": "floor(random(NPC.AnimationFrameCount))"
																	}
																}
															],
															"sid": 390164681817562
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-instance-variable",
																	"objectClass": "NPC",
																	"sid": 610053273580752,
																	"parameters": {
																		"instance-variable": "Name",
																		"comparison": 0,
																		"value": "\"merchant\""
																	}
																}
															],
															"actions": [
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 325385356378543,
																	"parameters": {
																		"instance-variable": "MaxHP",
																		"value": "floor(random(3,6))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 610150944037591,
																	"parameters": {
																		"instance-variable": "CurrentHP",
																		"value": "NPC.MaxHP"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 428332697866974,
																	"parameters": {
																		"instance-variable": "relation",
																		"value": "floor(random(0,2))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 917750952116739,
																	"parameters": {
																		"instance-variable": "Damage",
																		"value": "floor(random(3,6))"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 461751449934255,
																	"parameters": {
																		"instance-variable": "exp",
																		"value": "floor((NPC.MaxHP*NPC.Damage)/10)"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "NPC",
																	"sid": 289295373107397,
																	"parameters": {
																		"instance-variable": "Money",
																		"value": "floor(random(30,161))"
																	}
																},
																{
																	"id": "set-animation",
																	"objectClass": "NPC",
																	"sid": 864966203205802,
																	"parameters": {
																		"animation": "\"merchantidle\"",
																		"from": "beginning"
																	}
																},
																{
																	"id": "set-animation-frame",
																	"objectClass": "NPC",
																	"sid": 835719201199725,
																	"parameters": {
																		"frame-number": "floor(random(NPC.AnimationFrameCount))"
																	}
																}
															],
															"sid": 677300428748765
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-element",
									"objectClass": "A_Level",
									"sid": 947430668993863,
									"parameters": {
										"axes": "xy"
									}
								}
							],
							"actions": [],
							"sid": 575920794334182,
							"children": [
								{
									"eventType": "variable",
									"name": "tile",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 606624338400285
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-current-value",
											"objectClass": "A_Level",
											"sid": 388351289463660,
											"parameters": {
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [],
									"sid": 344106837064496,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 853678991091771,
													"parameters": {
														"x": "A_Level.CurX+1",
														"y": "A_Level.CurY",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 799328908859390,
													"parameters": {
														"variable": "tile",
														"value": "5"
													}
												}
											],
											"sid": 928054433237017
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 626381086365366,
													"parameters": {
														"x": "A_Level.CurX",
														"y": "A_Level.CurY+1",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 309390342139500,
													"parameters": {
														"variable": "tile",
														"value": "7"
													}
												}
											],
											"sid": 114573230510716
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 285294946829876,
													"parameters": {
														"x": "A_Level.CurX-1",
														"y": "A_Level.CurY",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 712743720231396,
													"parameters": {
														"variable": "tile",
														"value": "11"
													}
												}
											],
											"sid": 242804071148510
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-xy",
													"objectClass": "A_Level",
													"sid": 267080589790556,
													"parameters": {
														"x": "A_Level.CurX",
														"y": "A_Level.CurY-1",
														"comparison": 0,
														"value": "1"
													}
												}
											],
											"actions": [
												{
													"id": "add-to-eventvar",
													"objectClass": "System",
													"sid": 190195545670666,
													"parameters": {
														"variable": "tile",
														"value": "3"
													}
												}
											],
											"sid": 676619410158932
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 191989188934346,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "3"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 530330231699435,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "1",
														"state": "normal"
													}
												}
											],
											"sid": 677477721326796
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 634827731329214,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "5"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 322353130910760,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "2",
														"state": "normal"
													}
												}
											],
											"sid": 768732458938196
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 341697002399881,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "7"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 459440890303277,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "3",
														"state": "normal"
													}
												}
											],
											"sid": 461158345187398
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 214549902376517,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "11"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 637793872762730,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "4",
														"state": "normal"
													}
												}
											],
											"sid": 352258732849312
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 963637835501486,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "8"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 464591081000160,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "5",
														"state": "normal"
													}
												}
											],
											"sid": 469763481002786
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 446708393482966,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "10"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 916324360762802,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "6",
														"state": "normal"
													}
												}
											],
											"sid": 311194687071689
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 379281471780487,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "14"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 589608498272621,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "7",
														"state": "normal"
													}
												}
											],
											"sid": 626879215337216
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 856087033876536,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "12"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 856549571213913,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "8",
														"state": "normal"
													}
												}
											],
											"sid": 964620980031545
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 887014264772220,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "16"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 981072309074029,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "9",
														"state": "normal"
													}
												}
											],
											"sid": 570228500479686
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 158860188378909,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "18"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 132728459153977,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "10",
														"state": "normal"
													}
												}
											],
											"sid": 836009788713044
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 870855641022286,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "23"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 308605018666654,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "11",
														"state": "normal"
													}
												}
											],
											"sid": 316078336613578
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 971228803008648,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "21"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 823366205675782,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "12",
														"state": "normal"
													}
												}
											],
											"sid": 210555618874483
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 243172051881656,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "19"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 333329498629758,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "13",
														"state": "normal"
													}
												}
											],
											"sid": 667764723691849
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 720367349016868,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "15"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 690477242421398,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "14",
														"state": "normal"
													}
												}
											],
											"sid": 557446638645961
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-eventvar",
													"objectClass": "System",
													"sid": 265238455818448,
													"parameters": {
														"variable": "tile",
														"comparison": 0,
														"value": "26"
													}
												}
											],
											"actions": [
												{
													"id": "set-tile",
													"objectClass": "TM_LevelWall",
													"sid": 937135352855783,
													"parameters": {
														"tile-x": "A_Level.CurX",
														"tile-y": "A_Level.CurY",
														"tile": "15",
														"state": "normal"
													}
												}
											],
											"sid": 505636039891355
										}
									]
								}
							]
						}
					]
				}
			],
			"sid": 465340771372226
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Action",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-function",
							"objectClass": "Function",
							"sid": 953965674411463,
							"parameters": {
								"name": "\"CheckSpawnIdea\""
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 853061630813657,
							"parameters": {
								"variable": "FlipFlop",
								"value": "choose(0,0,0,1,1,1,2,2,2,3,3,4,4)"
							}
						}
					],
					"sid": 485021774601730,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 905807532806957,
									"parameters": {
										"variable": "FlipFlop",
										"comparison": 0,
										"value": "0"
									}
								}
							],
							"actions": [],
							"sid": 678967945602949,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "Item",
											"sid": 437818684566929,
											"parameters": {
												"instance-variable": "InPuzzle"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 277515190837209,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nearestfurthest",
													"objectClass": "Item",
													"sid": 216275282488831,
													"parameters": {
														"which": "nearest",
														"x": "Hero.X",
														"y": "Hero.Y"
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 939504267395087,
													"parameters": {
														"name": "\"SpawnNewThink\"",
														"parameter-n": [
															"\"what\"",
															"Item.Name",
															"Item.UID"
														]
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "Item",
													"sid": 591231215598987,
													"parameters": {
														"instance-variable": "InPuzzle",
														"value": "true"
													}
												}
											],
											"sid": 958603578076123
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 289389798772983,
									"parameters": {
										"variable": "FlipFlop",
										"comparison": 0,
										"value": "1"
									}
								}
							],
							"actions": [],
							"sid": 160725405274560,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-boolean-instance-variable-set",
											"objectClass": "NPC",
											"sid": 466589586943854,
											"parameters": {
												"instance-variable": "inPuzzle"
											},
											"isInverted": true
										}
									],
									"actions": [],
									"sid": 699412349903291,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-nearestfurthest",
													"objectClass": "NPC",
													"sid": 374116996019570,
													"parameters": {
														"which": "nearest",
														"x": "Hero.X",
														"y": "Hero.Y"
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 575513301995510,
													"parameters": {
														"name": "\"SpawnNewThink\"",
														"parameter-n": [
															"\"whom\"",
															"NPC.Name",
															"NPC.UID"
														]
													}
												},
												{
													"id": "set-boolean-instvar",
													"objectClass": "NPC",
													"sid": 903946077694414,
													"parameters": {
														"instance-variable": "inPuzzle",
														"value": "true"
													}
												}
											],
											"sid": 131642814883244
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 922069320806210,
									"parameters": {
										"variable": "FlipFlop",
										"comparison": 0,
										"value": "2"
									}
								}
							],
							"actions": [
								{
									"id": "call-function",
									"objectClass": "Function",
									"sid": 567120902717040,
									"parameters": {
										"name": "\"SpawnNewThink\"",
										"parameter-n": [
											"\"do\"",
											"choose(\"fight with\", \"cast spell on\", \"to feed\", \"trade with\", \"argue with\", \"pickpocket from\", \"hug\")"
										]
									}
								}
							],
							"sid": 466554951275494
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 730765607873180,
									"parameters": {
										"variable": "FlipFlop",
										"comparison": 0,
										"value": "3"
									}
								}
							],
							"actions": [
								{
									"id": "call-function",
									"objectClass": "Function",
									"sid": 421681790041752,
									"parameters": {
										"name": "\"SpawnNewThink\"",
										"parameter-n": [
											"\"how\"",
											"choose(\"quickly\", \"stealthily\", \"brutally\", \"wisely\", \"magically\", \"with force\", \"carefully\", \"with charm\", \"loudly\")"
										]
									}
								}
							],
							"sid": 128848098442482
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-eventvar",
									"objectClass": "System",
									"sid": 516957706887595,
									"parameters": {
										"variable": "FlipFlop",
										"comparison": 0,
										"value": "4"
									}
								}
							],
							"actions": [
								{
									"id": "call-function",
									"objectClass": "Function",
									"sid": 918363070805094,
									"parameters": {
										"name": "\"SpawnNewThink\"",
										"parameter-n": [
											"\"want\"",
											"\"want\""
										]
									}
								}
							],
							"sid": 335501443384132
						}
					]
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Interaction",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 998768400588182,
									"parameters": {
										"name": "\"PickUpObject\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Hero",
									"sid": 137173735961034,
									"parameters": {
										"instance-variable": "CarryOn",
										"value": "Function.Param(0)"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 384021503245918,
									"parameters": {
										"group-name": "\"CarryOn\"",
										"state": "activated"
									}
								}
							],
							"sid": 650768481731336
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 459892239136964,
									"parameters": {
										"name": "\"InteractWithSomeone\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Hero",
									"sid": 259550651829107,
									"parameters": {
										"instance-variable": "CarryOn",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 529699854372705,
									"parameters": {
										"group-name": "\"CarryOn\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 165790446851625,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 522235388319909
										}
									],
									"actions": [],
									"sid": 114241788573082,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 150935574375587,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"fight with\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 898171739730734,
													"parameters": {
														"name": "\"fight with\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 506174442252132
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 139788777920375,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"cast spell on\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 698587225218789,
													"parameters": {
														"name": "\"cast spell on\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 568104533186815
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 907376036821439,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"to feed\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 339126989991549,
													"parameters": {
														"name": "\"to feed\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 978524954783629
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 254808842740396,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"trade with\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 813916619733724,
													"parameters": {
														"name": "\"trade with\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 277397886724808
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 799896454561040,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"argue with\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 930532197648916,
													"parameters": {
														"name": "\"argue with\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 135758114176844
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 166339885160165,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"pickpocket from\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 706472108261855,
													"parameters": {
														"name": "\"pickpocket from\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 807970326596621
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 482082909077954,
													"parameters": {
														"x": "1",
														"comparison": 0,
														"value": "\"hug\""
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 295859758297114,
													"parameters": {
														"name": "\"hug\"",
														"parameter-n": [
															"A_QueryActions.At(2)",
															"A_QueryActions.At(3)"
														]
													}
												}
											],
											"sid": 783354480887977
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 153268999404563,
													"parameters": {
														"unique-id": "A_QueryActions.At(3)"
													}
												}
											],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "Item",
													"sid": 966195300122152
												}
											],
											"sid": 550199630521759,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-instance-variable",
															"objectClass": "Idea",
															"sid": 967860799968849,
															"parameters": {
																"instance-variable": "UIDOnMap",
																"comparison": 0,
																"value": "Item.UID"
															}
														}
													],
													"actions": [
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 451511638079818,
															"parameters": {
																"name": "\"DestroyIdeas\"",
																"parameter-n": [
																	"Idea.UID"
																]
															}
														}
													],
													"sid": 310911429766510,
													"disabled": true
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 956131239847602
										}
									],
									"actions": [
										{
											"id": "call-function",
											"objectClass": "Function",
											"sid": 619275226430706,
											"parameters": {
												"name": "\"CheckSpawnIdea\"",
												"parameter-n": []
											}
										}
									],
									"sid": 839063109186663
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 794329444426843
								}
							],
							"actions": [
								{
									"id": "set-position-to-another-object",
									"objectClass": "Magic",
									"sid": 425412523823518,
									"parameters": {
										"object": "Item",
										"image-point-optional": "0"
									}
								},
								{
									"id": "set-text",
									"objectClass": "SF_LVL",
									"sid": 832526855191863,
									"parameters": {
										"text": "\"lvl\"&Hero.Level&\"(\"&floor(Hero.currentXP)&\"/\"&floor(Hero.NewLevelExp)&\")\""
									}
								},
								{
									"id": "set-text",
									"objectClass": "SF_GOLD",
									"sid": 140565487686826,
									"parameters": {
										"text": "\"gold:\"&floor(Hero.money)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "SF_HP",
									"sid": 381353400020659,
									"parameters": {
										"text": "\"health:\"&floor(Hero.currentHP)"
									}
								},
								{
									"id": "set-text",
									"objectClass": "SF_DAMAGE",
									"sid": 924063817985010,
									"parameters": {
										"text": "\"damage:\"&floor(Hero.damage)"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "Hero",
									"sid": 991523386077527,
									"parameters": {
										"instance-variable": "NewLevelExp",
										"value": "floor(Hero.level*10*0.8)"
									}
								}
							],
							"sid": 782292639824554,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 319019094811564,
											"parameters": {
												"instance-variable": "currentXP",
												"comparison": 5,
												"value": "Hero.NewLevelExp"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 442835993892138,
											"parameters": {
												"instance-variable": "currentXP",
												"value": "Hero.currentXP-Hero.NewLevelExp"
											}
										},
										{
											"id": "add-to-instvar",
											"objectClass": "Hero",
											"sid": 605844376681712,
											"parameters": {
												"instance-variable": "Level",
												"value": "1"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 756758297788185,
											"parameters": {
												"instance-variable": "NewLevelExp",
												"value": "floor(Hero.level*10*0.8)"
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 996231347646770,
											"parameters": {
												"instance-variable": "Damage",
												"value": "floor(Hero.Level*1.2)+4"
											}
										}
									],
									"sid": 639132641259960
								}
							]
						},
						{
							"eventType": "group",
							"disabled": false,
							"title": "CarryOn",
							"description": "",
							"isActiveOnStart": false,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "every-tick",
											"objectClass": "System",
											"sid": 288636421543014
										}
									],
									"actions": [],
									"sid": 432450430417973,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 123613952359535,
													"parameters": {
														"unique-id": "Hero.CarryOn"
													}
												}
											],
											"actions": [
												{
													"id": "set-position-to-another-object",
													"objectClass": "Item",
													"sid": 375127509606142,
													"parameters": {
														"object": "Hero",
														"image-point-optional": "1"
													}
												}
											],
											"sid": 966333613759652
										}
									]
								}
							],
							"sid": 328759761492248
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 108128809626455,
									"parameters": {
										"name": "\"to feed\""
									}
								}
							],
							"actions": [],
							"sid": 871434269701683,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalHeal",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 299748583181804
								},
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 209917499345863
								},
								{
									"eventType": "variable",
									"name": "FinalDealDamage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 720511699142519
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 142122744873497,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 841480681199550,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 553215716484939,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 748349577180238,
													"parameters": {
														"variable": "FinalHeal",
														"value": "Item.Heal"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 427519117164627,
													"parameters": {
														"variable": "FinalDealDamage",
														"value": "Item.Damage"
													}
												}
											],
											"sid": 855496560188828,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Item",
															"sid": 847349464301441,
															"parameters": {
																"instance-variable": "edible"
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 465001443128924,
															"parameters": {
																"variable": "FinalRelation",
																"value": "1"
															}
														}
													],
													"sid": 328152341201702
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "is-boolean-instance-variable-set",
															"objectClass": "Item",
															"sid": 543538046557116,
															"parameters": {
																"instance-variable": "edible"
															},
															"isInverted": true
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 351459429484394,
															"parameters": {
																"variable": "FinalRelation",
																"value": "-2"
															}
														}
													],
													"sid": 920256930365601
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 734590559987911,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 236314707562504,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 344158843470198,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 723175267556566,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*2"
															}
														}
													],
													"sid": 149726759326605
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 365154476043468,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 501769767948939,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*2"
															}
														}
													],
													"sid": 439558354485197
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 311090621125997,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 672472245675919,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 134116327104447,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 732085832302445,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 357725162889605,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 124086417885727,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 783358847865206
														}
													],
													"sid": 405102965103420
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 957305187334282,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 693517235978166,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 934909917001775,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 853077673515716,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*0.5"
															}
														}
													],
													"sid": 585947761588992
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 558159959512067,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 903839834967263,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+2"
															}
														}
													],
													"sid": 811208258002992
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 867062021143565
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 465130546321956,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 490536968703708,
															"parameters": {
																"text": "NPC.Name&\" heal \"&floor(FinalHeal)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 278515493067446,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 153881708833943,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 796714696096712,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-24",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 521846510049140,
															"parameters": {
																"text": "NPC.Name&\" take \"&floor(FinalDealDamage)&\" damage \""
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 225316664439294,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalHeal"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 397295360840643,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "NPC",
															"sid": 755314343199106,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalDealDamage"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 836551638885329,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 368820927537767,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 391761156042509,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 232273126951439
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 715329743130500,
									"parameters": {
										"name": "\"fight with\""
									}
								}
							],
							"actions": [],
							"sid": 167271767102251,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalDealDamage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 647418645262887
								},
								{
									"eventType": "variable",
									"name": "FinalTakeDamage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 203834114296058
								},
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 107117733876334
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 752231261070747,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 620691814160158,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 536740987283839,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 672976076605407,
													"parameters": {
														"variable": "FinalDealDamage",
														"value": "Item.Damage+Hero.Damage"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 840917186222603,
													"parameters": {
														"variable": "FinalRelation",
														"value": "-3"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 710482705797505,
													"parameters": {
														"variable": "FinalTakeDamage",
														"value": "NPC.Damage"
													}
												}
											],
											"sid": 113703394091926,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 550030022710994,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 501902402195152,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 228652980286785,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 711954182078708,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*2"
															}
														}
													],
													"sid": 145991258619002
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 873221931379564,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 347693915149647,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*2"
															}
														}
													],
													"sid": 983695564471243
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 457738056348023,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 219158153648690,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 554512957874932,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 370693453681539,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 960096013962511,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 386867098624478,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 786098790190092
														}
													],
													"sid": 577763801609014
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 369458540471276,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 682041142978186,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 136350731586849,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*0.5"
															}
														}
													],
													"sid": 410350480843484
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 977678073269826,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 318640992838931,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 954077488679780,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 831936622587701,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*0.5"
															}
														}
													],
													"sid": 470074975027036
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 129469692290651,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"stealthily\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 489376759056860,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*random(1,3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 377206728945786,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*0"
															}
														}
													],
													"sid": 712402291065545
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 919218245524730
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 262937516085270,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 201976617479591,
															"parameters": {
																"text": "NPC.Name&\" take \"&floor(FinalDealDamage)&\" damage \""
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 251390362517977,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 227994728795720,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 684947257417999,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-24",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 262656584443593,
															"parameters": {
																"text": "\"hero take \"&floor(Finaltakedamage)&\" damage\""
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "NPC",
															"sid": 396287625360793,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalDealDamage"
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "Hero",
															"sid": 518793970045820,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalTakeDamage"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 458919860869108,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 761917791008188,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 826331874702972,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 236590604790938,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 507451961017509
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 416658698683639,
									"parameters": {
										"name": "\"cast spell on\""
									}
								}
							],
							"actions": [],
							"sid": 772344667398628,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalHeal",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 267607935100881
								},
								{
									"eventType": "variable",
									"name": "FinalDealDamage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 349731097678463
								},
								{
									"eventType": "variable",
									"name": "FinalTakeDamage",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 780107293218611
								},
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 294863626848244
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 220245628414454,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 241497668208331,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 210406065313440,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 337492303882258,
													"parameters": {
														"variable": "FinalHeal",
														"value": "Item.Heal*random(3)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 621973092870214,
													"parameters": {
														"variable": "FinalRelation",
														"value": "random(3)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 645076034829625,
													"parameters": {
														"variable": "FinalDealDamage",
														"value": "Item.Damage*random(3)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 636714447466599,
													"parameters": {
														"variable": "FinalTakeDamage",
														"value": "NPC.Damage*random(3)"
													}
												}
											],
											"sid": 888127312983463,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 759379557576273,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 211176173713569,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 614300931931612,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 813327822341595,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 400906817087358,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*2"
															}
														}
													],
													"sid": 912986316944773
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 127327892396904,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 526024047308532,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 363163406389517,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+1"
															}
														}
													],
													"sid": 652546845596970
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 467467926696679,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 155014134504331,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 674869449313424,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 253495090446484,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 214263689567167,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*random(3)"
															}
														}
													],
													"sid": 619399172088456
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 777380418021854,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 343853901216296,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*2"
															}
														}
													],
													"sid": 860015481384781
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 276762159114714,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"stealthily\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 508922853592978,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*random(1,3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 561327297678383,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*0"
															}
														}
													],
													"sid": 341182362085487
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 885819503139455,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 443035037214857,
															"parameters": {
																"variable": "FinalHeal",
																"value": "FinalHeal*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 248646411265559,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 437677588302956,
															"parameters": {
																"variable": "FinalDealDamage",
																"value": "FinalDealDamage*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 474418898108801,
															"parameters": {
																"variable": "FinalTakeDamage",
																"value": "FinalTakeDamage*0.5"
															}
														}
													],
													"sid": 235547565379294
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 272823239866874
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 358800294368020,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 468415579943154,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 340036711611855,
															"parameters": {
																"text": "NPC.Name&\" heal \"&floor(FinalHeal)"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 713145621166962
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 627800590055121,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 345235711151401,
															"parameters": {
																"text": "NPC.Name&\" take \"&floor(FinalDealDamage)&\" damage \""
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 958290357790196,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-24",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 772666231519874,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 189287962569898,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-32",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 891457820867150,
															"parameters": {
																"text": "\"hero take \"&floor(Finaltakedamage)&\" damage\""
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 294947407040352,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalHeal"
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "NPC",
															"sid": 491705070530079,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalDealDamage"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 446524226436038,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "Hero",
															"sid": 661048987799095,
															"parameters": {
																"instance-variable": "CurrentHP",
																"value": "FinalTakeDamage"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 309015961213917,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 953250240592680,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 650179920400850,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 449166124832319
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 683332008149516,
									"parameters": {
										"name": "\"trade with\""
									}
								}
							],
							"actions": [],
							"sid": 839251263479423,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalPrice",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 870923460908468
								},
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 899424274354901
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 707166951399498,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 982769951507679,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 672975496616275,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 369224532473777,
													"parameters": {
														"variable": "FinalPrice",
														"value": "Item.Price"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 632041138242025,
													"parameters": {
														"variable": "FinalPrice",
														"value": "clamp(FinalPrice*((NPC.relation/10)+1),1,9999)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 604545260193032,
													"parameters": {
														"variable": "FinalRelation",
														"value": "1"
													}
												}
											],
											"sid": 314252307417581,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 866716916891192,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 355488294441371,
															"parameters": {
																"variable": "FinalPrice",
																"value": "FinalPrice*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 747075535469390,
															"parameters": {
																"variable": "FinalRelation",
																"value": "-1"
															}
														}
													],
													"sid": 342658161869044
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 160558378612235,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 182074280396096,
															"parameters": {
																"variable": "FinalPrice",
																"value": "FinalPrice*1.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 658648237386468,
															"parameters": {
																"variable": "FinalRelation",
																"value": "1"
															}
														}
													],
													"sid": 678794327714692
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 569586099478298,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 900298423446665,
															"parameters": {
																"variable": "FinalPrice",
																"value": "FinalPrice*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 570302949635906,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 680314015222418,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 678862585001217,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 614769505138048
														}
													],
													"sid": 432227241450458
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 206381379727656,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 501489467104050,
															"parameters": {
																"variable": "FinalRelation",
																"value": "1"
															}
														}
													],
													"sid": 703860074663057
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 453219756623912,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 215149764719757,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 920848596235255,
															"parameters": {
																"variable": "FinalPrice",
																"value": "FinalPrice*0.5"
															}
														}
													],
													"sid": 908566115503213
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 254473923309352,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"loudly\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 650247047416572,
															"parameters": {
																"variable": "FinalPrice",
																"value": "FinalPrice*2"
															}
														}
													],
													"sid": 412180606220150
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 733549822272134
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 852686475409441,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 980537682353240,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 895655699092488,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 139709706051483,
															"parameters": {
																"text": "\"hero trade \"&floor(clamp(FinalPrice,0,NPC.Money))"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "Hero",
															"sid": 297211965811653,
															"parameters": {
																"instance-variable": "Money",
																"value": "clamp(FinalPrice,0,NPC.Money)"
															}
														},
														{
															"id": "subtract-from-instvar",
															"objectClass": "NPC",
															"sid": 254765729217908,
															"parameters": {
																"instance-variable": "Money",
																"value": "clamp(FinalPrice,0,NPC.Money)"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 271466657078939,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 835043056771600,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 580491488782120,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 252950324681543,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 409406090256981
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 835036198780711,
									"parameters": {
										"name": "\"argue with\""
									}
								}
							],
							"actions": [],
							"sid": 766161364514154,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 313981315287427
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 621349655917177,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 861857779469061,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 220508441291734,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 132442825128874,
													"parameters": {
														"variable": "FinalRelation",
														"value": "-1"
													}
												}
											],
											"sid": 622681876522470,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 195905607499015,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 778279958682376,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*2"
															}
														}
													],
													"sid": 474175513655420
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 625231288888155,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 943518862654517,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+1"
															}
														}
													],
													"sid": 785066640103882
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 915695323658493,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 646970359910145,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 853455149714372,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 727965166149712,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 703943798057947
														}
													],
													"sid": 604562320892663
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 191375287483736,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 157433456443714,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+2"
															}
														}
													],
													"sid": 483715420485147
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 495123258344848,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 112110654938382,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														}
													],
													"sid": 923964437454019
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 679936839762820,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"loudly\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 563492580312870,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation-2"
															}
														}
													],
													"sid": 815675842337032
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 321345179115620
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 196926720362272,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 210535845268166,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 814174169958785,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 987653673144522,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 129889283708266,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 949052805363572,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 802697683411240
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 414367403599920,
									"parameters": {
										"name": "\"pickpocket from\""
									}
								}
							],
							"actions": [],
							"sid": 191860197991660,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalSteal",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 394356846456798
								},
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 246694208340425
								},
								{
									"eventType": "variable",
									"name": "FinalChance",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 633630316317311
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 624923514653999,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 723513200587543,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 843929274534136,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 900119025208943,
													"parameters": {
														"variable": "FinalSteal",
														"value": "random(NPC.Money)"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 862797114093702,
													"parameters": {
														"variable": "FinalRelation",
														"value": "-2"
													}
												},
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 161803890880831,
													"parameters": {
														"variable": "FinalChance",
														"value": "0.25"
													}
												}
											],
											"sid": 294018947312918,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 327590469424093,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 118424639974105,
															"parameters": {
																"variable": "FinalSteal",
																"value": "FinalSteal*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 992252171236830,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 948961800469690,
															"parameters": {
																"variable": "FinalChance",
																"value": "FinalChance*0.5"
															}
														}
													],
													"sid": 931652662713517
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 893128807710625,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"wisely\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 482604547357526,
															"parameters": {
																"variable": "FinalSteal",
																"value": "FinalSteal*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 249044393583975,
															"parameters": {
																"variable": "FinalChance",
																"value": "FinalChance+0.25"
															}
														}
													],
													"sid": 586616287864305
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 612123576284241,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 518669445417344,
															"parameters": {
																"variable": "FinalSteal",
																"value": "FinalSteal*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 534594043451148,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 869179189863292,
															"parameters": {
																"variable": "FinalChance",
																"value": "FinalChance*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 105357435638804,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 686196463454639,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 988483539922971
														}
													],
													"sid": 169203360167006
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 457145002821956,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 852994951195868,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+2"
															}
														}
													],
													"sid": 196671329108828
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 367526610358169,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"stealthily\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 431320160052247,
															"parameters": {
																"variable": "FinalSteal",
																"value": "FinalSteal*2"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 801231218365902,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 144951788339673,
															"parameters": {
																"variable": "FinalChance",
																"value": "FinalChance*2"
															}
														}
													],
													"sid": 957842031100035
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 504516151388526,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 916787528194206,
															"parameters": {
																"variable": "FinalSteal",
																"value": "FinalSteal*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 980346670784582,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														},
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 627507246575798,
															"parameters": {
																"variable": "FinalChance",
																"value": "FinalChance*2"
															}
														}
													],
													"sid": 687523005920522
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 704143368078041,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"loudly\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 800430273240269,
															"parameters": {
																"variable": "FinalChance",
																"value": "0"
															}
														}
													],
													"sid": 353477070844884
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 396055161108388
														}
													],
													"actions": [],
													"sid": 104752662155174,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "compare-two-values",
																	"objectClass": "System",
																	"sid": 535366893263980,
																	"parameters": {
																		"first-value": "random(1)",
																		"comparison": 3,
																		"second-value": "FinalChance"
																	}
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 999000198258914,
																	"parameters": {
																		"object-to-create": "SF_InteractSummury",
																		"layer": "2",
																		"x": "Hero.X",
																		"y": "Hero.y-8",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-text",
																	"objectClass": "SF_InteractSummury",
																	"sid": 622136679208297,
																	"parameters": {
																		"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
																	}
																},
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 449940251195898,
																	"parameters": {
																		"object-to-create": "SF_InteractSummury",
																		"layer": "2",
																		"x": "Hero.X",
																		"y": "Hero.y-16",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-text",
																	"objectClass": "SF_InteractSummury",
																	"sid": 983069052548884,
																	"parameters": {
																		"text": "\"hero steal \"&floor(clamp(FinalSteal,0,NPC.Money))"
																	}
																},
																{
																	"id": "add-to-instvar",
																	"objectClass": "Hero",
																	"sid": 474483440037847,
																	"parameters": {
																		"instance-variable": "Money",
																		"value": "clamp(FinalSteal,0,NPC.Money)"
																	}
																},
																{
																	"id": "subtract-from-instvar",
																	"objectClass": "NPC",
																	"sid": 984498582762742,
																	"parameters": {
																		"instance-variable": "Money",
																		"value": "clamp(FinalSteal,0,NPC.Money)"
																	}
																},
																{
																	"id": "add-to-instvar",
																	"objectClass": "NPC",
																	"sid": 877647488495795,
																	"parameters": {
																		"instance-variable": "relation",
																		"value": "FinalRelation"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "NPC",
																	"sid": 475711928497006,
																	"parameters": {
																		"instance-variable": "inPuzzle",
																		"value": "false"
																	}
																},
																{
																	"id": "call-function",
																	"objectClass": "Function",
																	"sid": 103376867993584,
																	"parameters": {
																		"name": "\"CheckHeroDeath\"",
																		"parameter-n": []
																	}
																},
																{
																	"id": "call-function",
																	"objectClass": "Function",
																	"sid": 522280543969126,
																	"parameters": {
																		"name": "\"CheckWhomDeath\"",
																		"parameter-n": [
																			"A_QueryActions.At(2)"
																		]
																	}
																}
															],
															"sid": 921139391680517
														},
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "else",
																	"objectClass": "System",
																	"sid": 622192516242178
																}
															],
															"actions": [
																{
																	"id": "create-object",
																	"objectClass": "System",
																	"sid": 571788860598327,
																	"parameters": {
																		"object-to-create": "SF_InteractSummury",
																		"layer": "2",
																		"x": "Hero.X",
																		"y": "Hero.y-8",
																		"create-hierarchy": false,
																		"template-name": "\"\""
																	}
																},
																{
																	"id": "set-text",
																	"objectClass": "SF_InteractSummury",
																	"sid": 693887762500639,
																	"parameters": {
																		"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
																	}
																},
																{
																	"id": "add-to-instvar",
																	"objectClass": "NPC",
																	"sid": 364124408816436,
																	"parameters": {
																		"instance-variable": "relation",
																		"value": "FinalRelation"
																	}
																},
																{
																	"id": "set-boolean-instvar",
																	"objectClass": "NPC",
																	"sid": 884226781089505,
																	"parameters": {
																		"instance-variable": "inPuzzle",
																		"value": "false"
																	}
																},
																{
																	"id": "call-function",
																	"objectClass": "Function",
																	"sid": 594367312371055,
																	"parameters": {
																		"name": "\"CheckHeroDeath\"",
																		"parameter-n": []
																	}
																},
																{
																	"id": "call-function",
																	"objectClass": "Function",
																	"sid": 758282096654219,
																	"parameters": {
																		"name": "\"CheckWhomDeath\"",
																		"parameter-n": [
																			"A_QueryActions.At(2)"
																		]
																	}
																}
															],
															"sid": 288801967437291
														}
													]
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 517051771363544,
									"parameters": {
										"name": "\"hug\""
									}
								}
							],
							"actions": [],
							"sid": 415155565391971,
							"children": [
								{
									"eventType": "variable",
									"name": "FinalRelation",
									"type": "number",
									"initialValue": "0",
									"comment": "",
									"isStatic": false,
									"isConstant": false,
									"sid": 172201570493347
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "NPC",
											"sid": 244101686732546,
											"parameters": {
												"unique-id": "Function.Param(0)"
											}
										}
									],
									"actions": [],
									"sid": 801827340577687,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 609972159620626,
													"parameters": {
														"unique-id": "Function.Param(1)"
													}
												}
											],
											"actions": [
												{
													"id": "set-eventvar-value",
													"objectClass": "System",
													"sid": 846742115106459,
													"parameters": {
														"variable": "FinalRelation",
														"value": "1"
													}
												}
											],
											"sid": 168251031716021,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 924054932103654,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"brutally\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 338146673183347,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*2"
															}
														}
													],
													"sid": 450123022152571
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 663604780491283,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"magically\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 194729677716867,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*random(3)"
															}
														},
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 166427590656464,
															"parameters": {
																"object-to-create": "Magic",
																"layer": "2",
																"x": "NPC.X",
																"y": "NPC.Y-16",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "wait",
															"objectClass": "System",
															"sid": 637204822946575,
															"parameters": {
																"seconds": "0.5"
															}
														},
														{
															"id": "destroy",
															"objectClass": "Magic",
															"sid": 710176662940633
														}
													],
													"sid": 127401221859476
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 300528685250634,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with charm\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 205714837220098,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation+2"
															}
														}
													],
													"sid": 484076579471491
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 284709206222661,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"carefully\""
															}
														}
													],
													"actions": [
														{
															"id": "set-eventvar-value",
															"objectClass": "System",
															"sid": 127714401367103,
															"parameters": {
																"variable": "FinalRelation",
																"value": "FinalRelation*0.5"
															}
														}
													],
													"sid": 860838138316552
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 387191887302390
														}
													],
													"actions": [
														{
															"id": "create-object",
															"objectClass": "System",
															"sid": 429811752536684,
															"parameters": {
																"object-to-create": "SF_InteractSummury",
																"layer": "2",
																"x": "Hero.X",
																"y": "Hero.y-8",
																"create-hierarchy": false,
																"template-name": "\"\""
															}
														},
														{
															"id": "set-text",
															"objectClass": "SF_InteractSummury",
															"sid": 492539142024606,
															"parameters": {
																"text": "NPC.Name&\" relation \"&floor(FinalRelation)"
															}
														},
														{
															"id": "add-to-instvar",
															"objectClass": "NPC",
															"sid": 311583013950611,
															"parameters": {
																"instance-variable": "relation",
																"value": "FinalRelation"
															}
														},
														{
															"id": "set-boolean-instvar",
															"objectClass": "NPC",
															"sid": 631523604373268,
															"parameters": {
																"instance-variable": "inPuzzle",
																"value": "false"
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 536376446096378,
															"parameters": {
																"name": "\"CheckHeroDeath\"",
																"parameter-n": []
															}
														},
														{
															"id": "call-function",
															"objectClass": "Function",
															"sid": 113207259310199,
															"parameters": {
																"name": "\"CheckWhomDeath\"",
																"parameter-n": [
																	"A_QueryActions.At(2)"
																]
															}
														}
													],
													"sid": 812197970985659
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 298384701372262,
									"parameters": {
										"name": "\"CheckHeroDeath\""
									}
								}
							],
							"actions": [],
							"sid": 759268048733962,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 867154013950327,
											"parameters": {
												"instance-variable": "CurrentHP",
												"comparison": 3,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "destroy",
											"objectClass": "Hero",
											"sid": 773513294415979
										},
										{
											"id": "set-text",
											"objectClass": "SF_StaticText",
											"sid": 284772938975396,
											"parameters": {
												"text": "\"hero\""
											}
										},
										{
											"id": "set-position",
											"objectClass": "T_DEAD",
											"sid": 921022812490336,
											"parameters": {
												"x": "0",
												"y": "0"
											}
										},
										{
											"id": "move-to-top",
											"objectClass": "T_DEAD",
											"sid": 272593973957310
										},
										{
											"id": "wait",
											"objectClass": "System",
											"sid": 751151598125116,
											"parameters": {
												"seconds": "5"
											}
										},
										{
											"id": "go-to-layout",
											"objectClass": "System",
											"sid": 225752741549108,
											"parameters": {
												"layout": "Layout 1"
											}
										}
									],
									"sid": 169067517292666
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "NPC",
									"sid": 137722799059649,
									"parameters": {
										"instance-variable": "CurrentHP",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "add-to-instvar",
									"objectClass": "Hero",
									"sid": 521441260186763,
									"parameters": {
										"instance-variable": "Money",
										"value": "NPC.Money"
									}
								},
								{
									"id": "add-to-instvar",
									"objectClass": "Hero",
									"sid": 363485899363657,
									"parameters": {
										"instance-variable": "currentXP",
										"value": "NPC.exp"
									}
								},
								{
									"id": "destroy",
									"objectClass": "NPC",
									"sid": 571134192811231
								}
							],
							"sid": 729933095531052,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Idea",
											"sid": 155289229814018,
											"parameters": {
												"instance-variable": "UIDOnMap",
												"comparison": 0,
												"value": "NPC.UID"
											}
										}
									],
									"actions": [
										{
											"id": "call-function",
											"objectClass": "Function",
											"sid": 214703155608309,
											"parameters": {
												"name": "\"DestroyIdeas\"",
												"parameter-n": [
													"Idea.UID"
												]
											}
										}
									],
									"sid": 666860765918718
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 904704904038077,
									"parameters": {
										"object": "Idea"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_StaticText",
									"sid": 457455635000263,
									"parameters": {
										"text": "Idea.Name"
									}
								}
							],
							"sid": 747002939622398,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Idea",
											"sid": 204426437089576,
											"parameters": {
												"animation": "\"what\""
											}
										}
									],
									"actions": [],
									"sid": 715926342513670,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 609160456763655,
													"parameters": {
														"unique-id": "Idea.UIDOnMap"
													}
												}
											],
											"actions": [],
											"sid": 555541402717776,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 318012093661971
														}
													],
													"actions": [
														{
															"id": "flash",
															"objectClass": "Item",
															"sid": 997066975038090,
															"behaviorType": "Flash",
															"parameters": {
																"on-time": "0.2",
																"off-time": "0.2",
																"duration": "999"
															}
														}
													],
													"sid": 483115889633687
												}
											]
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-animation-playing",
											"objectClass": "Idea",
											"sid": 689304884440883,
											"parameters": {
												"animation": "\"whom\""
											}
										}
									],
									"actions": [],
									"sid": 250528275403838,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "NPC",
													"sid": 526579256246787,
													"parameters": {
														"unique-id": "Idea.UIDOnMap"
													}
												}
											],
											"actions": [],
											"sid": 749932722396136,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "trigger-once-while-true",
															"objectClass": "System",
															"sid": 509358685474686
														}
													],
													"actions": [
														{
															"id": "flash",
															"objectClass": "NPC",
															"sid": 849202828174629,
															"behaviorType": "Flash",
															"parameters": {
																"on-time": "0.2",
																"off-time": "0.2",
																"duration": "999"
															}
														}
													],
													"sid": 491381255691791
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 460279009266910,
									"parameters": {
										"object": "Item"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 994619609098250,
									"parameters": {
										"object": "T_Grid"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_StaticText",
									"sid": 421067090014037,
									"parameters": {
										"text": "Item.Name"
									}
								}
							],
							"sid": 475836510246280,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Idea",
											"sid": 804778860107959,
											"parameters": {
												"instance-variable": "UIDOnMap",
												"comparison": 0,
												"value": "Item.UID"
											}
										}
									],
									"actions": [],
									"sid": 857490503319393,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 970347864720843
												}
											],
											"actions": [
												{
													"id": "flash",
													"objectClass": "Idea",
													"sid": 631301548549269,
													"behaviorType": "Flash",
													"parameters": {
														"on-time": "0.2",
														"off-time": "0.2",
														"duration": "999"
													}
												}
											],
											"sid": 387807474477810
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 328166088378518,
									"parameters": {
										"object": "NPC"
									}
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 452354439257559,
									"parameters": {
										"object": "T_Grid"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_StaticText",
									"sid": 345633934050754,
									"parameters": {
										"text": "NPC.Name&newline&\"relation \"&floor(NPC.relation)&newline&\"health: \"&floor(NPC.currentHP)"
									}
								}
							],
							"sid": 213393895260256,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Idea",
											"sid": 168266677762088,
											"parameters": {
												"instance-variable": "UIDOnMap",
												"comparison": 0,
												"value": "NPC.UID"
											}
										}
									],
									"actions": [],
									"sid": 787285905865038,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 494121450071471
												}
											],
											"actions": [
												{
													"id": "flash",
													"objectClass": "Idea",
													"sid": 764935276262126,
													"behaviorType": "Flash",
													"parameters": {
														"on-time": "0.2",
														"off-time": "0.2",
														"duration": "999"
													}
												}
											],
											"sid": 104719749163458
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 438556532307711,
									"parameters": {
										"object": "Hero"
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_StaticText",
									"sid": 275326113005564,
									"parameters": {
										"text": "\"hero\""
									}
								}
							],
							"sid": 648024348614326
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 694114912977744,
									"parameters": {
										"object": "Idea"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 345728046537033,
									"parameters": {
										"object": "Item"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 774135722901263,
									"parameters": {
										"object": "NPC"
									},
									"isInverted": true
								},
								{
									"id": "cursor-is-over-object",
									"objectClass": "Mouse",
									"sid": 829532895438280,
									"parameters": {
										"object": "Hero"
									},
									"isInverted": true
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_StaticText",
									"sid": 631352559426450,
									"parameters": {
										"text": "\"\""
									}
								},
								{
									"id": "stop-flashing",
									"objectClass": "NPC",
									"sid": 430475752862547,
									"behaviorType": "Flash"
								},
								{
									"id": "stop-flashing",
									"objectClass": "Item",
									"sid": 247654570135494,
									"behaviorType": "Flash"
								},
								{
									"id": "stop-flashing",
									"objectClass": "Idea",
									"sid": 537996723302475,
									"behaviorType": "Flash"
								}
							],
							"sid": 673471067803794
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "for-each-ordered",
									"objectClass": "System",
									"sid": 628414114039203,
									"parameters": {
										"object": "Sort",
										"expression": "sort.bboxbottom",
										"order": "ascending"
									}
								}
							],
							"actions": [
								{
									"id": "move-to-top",
									"objectClass": "Sort",
									"sid": 864010343863603
								}
							],
							"sid": 921575796525056
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Item",
									"sid": 932089852462018,
									"parameters": {
										"object": "NPC"
									}
								}
							],
							"actions": [],
							"sid": 723815977735589,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-speed",
											"objectClass": "Item",
											"sid": 923214914791649,
											"behaviorType": "Bullet",
											"parameters": {
												"comparison": 4,
												"speed": "0"
											}
										},
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 823381543869908,
											"parameters": {
												"instance-variable": "CarryOn",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "call-function",
											"objectClass": "Function",
											"sid": 691794140520009,
											"parameters": {
												"name": "\"InteractWithSomeone\"",
												"parameter-n": [
													"NPC.UID"
												]
											}
										}
									],
									"sid": 310853087956649
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [],
							"actions": [],
							"sid": 575184848665616
						}
					],
					"sid": 893166498708004
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Text",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 633238554391062,
									"parameters": {
										"interval-seconds": "0.05"
									}
								},
								{
									"id": "compare-instance-variable",
									"objectClass": "SF_SpeechText",
									"sid": 883139621065234,
									"parameters": {
										"instance-variable": "current",
										"comparison": 1,
										"value": "\"\""
									}
								}
							],
							"actions": [
								{
									"id": "set-text",
									"objectClass": "SF_SpeechText",
									"sid": 152086999560698,
									"parameters": {
										"text": "left(SF_SpeechText.current,index)"
									}
								},
								{
									"id": "add-to-eventvar",
									"objectClass": "System",
									"sid": 740421681359573,
									"parameters": {
										"variable": "index",
										"value": "1"
									}
								}
							],
							"sid": 402347284753110,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-eventvar",
											"objectClass": "System",
											"sid": 383948448803170,
											"parameters": {
												"variable": "index",
												"comparison": 4,
												"value": "len(SF_SpeechText.Text)+100"
											}
										}
									],
									"actions": [
										{
											"id": "set-visible",
											"objectClass": "9P_DialogBack",
											"sid": 693078009876750,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-visible",
											"objectClass": "SF_SpeechText",
											"sid": 228157742290064,
											"parameters": {
												"visibility": "invisible"
											}
										},
										{
											"id": "set-text",
											"objectClass": "SF_SpeechText",
											"sid": 477217364423212,
											"parameters": {
												"text": "\"\""
											}
										},
										{
											"id": "set-instvar-value",
											"objectClass": "SF_SpeechText",
											"sid": 504238129348523,
											"parameters": {
												"instance-variable": "current",
												"value": "\"\""
											}
										},
										{
											"id": "set-eventvar-value",
											"objectClass": "System",
											"sid": 470510531071673,
											"parameters": {
												"variable": "index",
												"value": "0"
											}
										}
									],
									"sid": 875511816901212,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "trigger-once-while-true",
													"objectClass": "System",
													"sid": 217842137330805
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 928376753879550,
													"parameters": {
														"name": "\"HeroAction\"",
														"parameter-n": []
													}
												}
											],
											"sid": 931310438606386
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 253175942968518,
									"parameters": {
										"name": "\"SetText\""
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "9P_DialogBack",
									"sid": 546420899855869,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-visible",
									"objectClass": "SF_SpeechText",
									"sid": 874012034985807,
									"parameters": {
										"visibility": "visible"
									}
								},
								{
									"id": "set-instvar-value",
									"objectClass": "SF_SpeechText",
									"sid": 817176965661738,
									"parameters": {
										"instance-variable": "current",
										"value": "Function.Param(0)"
									}
								}
							],
							"sid": 210063892391063
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-tick",
									"objectClass": "System",
									"sid": 388844175816063
								}
							],
							"actions": [
								{
									"id": "set-position",
									"objectClass": "9P_DialogBack",
									"sid": 368012484878181,
									"parameters": {
										"x": "Hero.X",
										"y": "Hero.Y-12"
									}
								},
								{
									"id": "set-position",
									"objectClass": "SF_SpeechText",
									"sid": 958467765199229,
									"disabled": true,
									"parameters": {
										"x": "Hero.X+1",
										"y": "Hero.Y-13"
									}
								},
								{
									"id": "set-position",
									"objectClass": "SF_SpeechText",
									"sid": 714740302173655,
									"parameters": {
										"x": "9P_DialogBack.X",
										"y": "9P_DialogBack.Y-2"
									}
								},
								{
									"id": "set-size",
									"objectClass": "9P_DialogBack",
									"sid": 224442290886897,
									"parameters": {
										"width": "clamp(((len(SF_SpeechText.Text))*5),0,100)",
										"height": "ceil(((len(SF_SpeechText.Text))*6)/100)*6+4"
									}
								},
								{
									"id": "set-size",
									"objectClass": "SF_SpeechText",
									"sid": 355789129343458,
									"parameters": {
										"width": "clamp(((len(SF_SpeechText.Text))*6),0,100)",
										"height": "ceil(((len(SF_SpeechText.Text))*6)/100)*6"
									}
								},
								{
									"id": "move-to-top",
									"objectClass": "SF_SpeechText",
									"sid": 278023937247450
								},
								{
									"id": "scroll-to-position",
									"objectClass": "System",
									"sid": 928881941370705,
									"parameters": {
										"x": "Hero.X-75",
										"y": "Hero.Y-8"
									}
								}
							],
							"sid": 793917709419893
						}
					],
					"sid": 788259761998176
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "HeroController",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-path-found",
									"objectClass": "Hero",
									"sid": 374327569670757,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [
								{
									"id": "move-along-path",
									"objectClass": "Hero",
									"sid": 480106212111568,
									"behaviorType": "Pathfinding"
								}
							],
							"sid": 680726966176607
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving-along-path",
									"objectClass": "Hero",
									"sid": 903247268390429,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [],
							"sid": 192761037613865,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 140099113948587,
											"parameters": {
												"instance-variable": "CarryOn",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Hero",
											"sid": 294484898860692,
											"parameters": {
												"animation": "\"CarryOn\"",
												"from": "beginning"
											}
										}
									],
									"sid": 598817616018965
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 254499314273708,
											"parameters": {
												"instance-variable": "CarryOn",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Hero",
											"sid": 949903157008716,
											"parameters": {
												"animation": "\"run\"",
												"from": "beginning"
											}
										}
									],
									"sid": 734597737729112
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 285661808142394,
											"parameters": {
												"angle": "Hero.Pathfinding.MovingAngle",
												"first-angle": "-45",
												"second-angle": "44"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 266627725638160,
											"parameters": {
												"instance-variable": "Direction",
												"value": "0"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "Hero",
											"sid": 669794596509190,
											"parameters": {
												"state": "not-mirrored"
											}
										}
									],
									"sid": 704044535005640
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 191589165383997,
											"parameters": {
												"angle": "Hero.Pathfinding.MovingAngle",
												"first-angle": "45",
												"second-angle": "134"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 973647083682612,
											"parameters": {
												"instance-variable": "Direction",
												"value": "1"
											}
										}
									],
									"sid": 749399742059131
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 468017847516954,
											"parameters": {
												"angle": "Hero.Pathfinding.MovingAngle",
												"first-angle": "135",
												"second-angle": "224"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 477329284045601,
											"parameters": {
												"instance-variable": "Direction",
												"value": "2"
											}
										},
										{
											"id": "set-mirrored",
											"objectClass": "Hero",
											"sid": 718109075752849,
											"parameters": {
												"state": "mirrored"
											}
										}
									],
									"sid": 411955631785452
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "is-between-angles",
											"objectClass": "System",
											"sid": 679155456581853,
											"parameters": {
												"angle": "Hero.Pathfinding.MovingAngle",
												"first-angle": "225",
												"second-angle": "314"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 759844223236714,
											"parameters": {
												"instance-variable": "Direction",
												"value": "3"
											}
										}
									],
									"sid": 256524185173575
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-moving-along-path",
									"objectClass": "Hero",
									"sid": 332161485793178,
									"behaviorType": "Pathfinding",
									"isInverted": true
								}
							],
							"actions": [],
							"sid": 164240126001979,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 956973017981078,
											"parameters": {
												"instance-variable": "CarryOn",
												"comparison": 1,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Hero",
											"sid": 267024851099402,
											"parameters": {
												"animation": "\"CarryOnIdle\"",
												"from": "beginning"
											}
										}
									],
									"sid": 408069822431174
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 489511815855495,
											"parameters": {
												"instance-variable": "CarryOn",
												"comparison": 0,
												"value": "0"
											}
										}
									],
									"actions": [
										{
											"id": "set-animation",
											"objectClass": "Hero",
											"sid": 370045012650436,
											"parameters": {
												"animation": "\"idle\"",
												"from": "beginning"
											}
										}
									],
									"sid": 977398752060890
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-function",
									"objectClass": "Function",
									"sid": 449769201715864,
									"parameters": {
										"name": "\"HeroAction\""
									}
								}
							],
							"actions": [
								{
									"id": "set-instvar-value",
									"objectClass": "Hero",
									"sid": 483260479787185,
									"parameters": {
										"instance-variable": "CarryOn",
										"value": "0"
									}
								},
								{
									"id": "set-group-active",
									"objectClass": "System",
									"sid": 247856989629372,
									"parameters": {
										"group-name": "\"CarryOn\"",
										"state": "deactivated"
									}
								}
							],
							"sid": 865272131693371,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "pick-by-unique-id",
											"objectClass": "Item",
											"sid": 897850237051076,
											"parameters": {
												"unique-id": "A_QueryActions.At(3)"
											}
										}
									],
									"actions": [
										{
											"id": "set-instvar-value",
											"objectClass": "Hero",
											"sid": 318000265902860,
											"parameters": {
												"instance-variable": "State",
												"value": "\"MoveToWhat\""
											}
										},
										{
											"id": "find-path",
											"objectClass": "Hero",
											"sid": 829191772342629,
											"behaviorType": "Pathfinding",
											"parameters": {
												"x": "Item.X",
												"y": "Item.Y"
											}
										}
									],
									"sid": 677585600215887
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "trigger-once-while-true",
											"objectClass": "System",
											"sid": 625237057778232
										}
									],
									"actions": [
										{
											"id": "set-max-speed",
											"objectClass": "Hero",
											"sid": 665147342939367,
											"behaviorType": "Pathfinding",
											"parameters": {
												"speed": "24"
											}
										}
									],
									"sid": 456954883226141,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 415271234965727,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"quickly\""
													}
												}
											],
											"actions": [
												{
													"id": "set-max-speed",
													"objectClass": "Hero",
													"sid": 983573564444718,
													"behaviorType": "Pathfinding",
													"parameters": {
														"speed": "64"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "Hero",
													"sid": 530827016075147,
													"parameters": {
														"speed": "30"
													}
												}
											],
											"sid": 622585331916402
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 637866336217209,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"stealthily\""
													}
												}
											],
											"actions": [
												{
													"id": "set-max-speed",
													"objectClass": "Hero",
													"sid": 546196606262756,
													"behaviorType": "Pathfinding",
													"parameters": {
														"speed": "12"
													}
												},
												{
													"id": "set-animation-speed",
													"objectClass": "Hero",
													"sid": 660603781668040,
													"parameters": {
														"speed": "5"
													}
												}
											],
											"sid": 307076725744600
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 160004048226407,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"brutally\""
													}
												}
											],
											"actions": [],
											"sid": 584468928264058
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 632181994246870,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"wisely\""
													}
												}
											],
											"actions": [],
											"sid": 962673044203738
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 780055328902046,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"magically\""
													}
												}
											],
											"actions": [
												{
													"id": "create-object",
													"objectClass": "System",
													"sid": 387745411950844,
													"parameters": {
														"object-to-create": "Magic",
														"layer": "1",
														"x": "Item.X",
														"y": "Item.Y",
														"create-hierarchy": false,
														"template-name": "\"\""
													}
												}
											],
											"sid": 224518337267684
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 375311005950595,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"carefully\""
													}
												}
											],
											"actions": [],
											"sid": 531051932790690
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 811658483586021,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"with charm\""
													}
												}
											],
											"actions": [],
											"sid": 481503061205111
										},
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-at-x",
													"objectClass": "A_QueryActions",
													"sid": 777087272633730,
													"parameters": {
														"x": "4",
														"comparison": 0,
														"value": "\"loudly\""
													}
												}
											],
											"actions": [],
											"sid": 269454370168663
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-arrived",
									"objectClass": "Hero",
									"sid": 457786514908689,
									"behaviorType": "Pathfinding"
								}
							],
							"actions": [],
							"sid": 391418784426390,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 841870029465657,
											"parameters": {
												"instance-variable": "State",
												"comparison": 0,
												"value": "\"MoveToWhom\""
											}
										}
									],
									"actions": [],
									"sid": 997051054055659,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "NPC",
													"sid": 808372852992693,
													"parameters": {
														"unique-id": "A_QueryActions.At(2)"
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 965713297008873,
													"parameters": {
														"name": "\"InteractWithSomeone\"",
														"parameter-n": [
															"NPC.UID"
														]
													}
												}
											],
											"sid": 383976448898666
										}
									]
								},
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Hero",
											"sid": 287974822698763,
											"parameters": {
												"instance-variable": "State",
												"comparison": 0,
												"value": "\"MoveToWhat\""
											}
										}
									],
									"actions": [],
									"sid": 871500467877051,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "pick-by-unique-id",
													"objectClass": "Item",
													"sid": 362320223172171,
													"parameters": {
														"unique-id": "A_QueryActions.At(3)"
													}
												}
											],
											"actions": [
												{
													"id": "call-function",
													"objectClass": "Function",
													"sid": 814864276098603,
													"parameters": {
														"name": "\"PickUpObject\"",
														"parameter-n": [
															"Item.UID"
														]
													}
												}
											],
											"sid": 577205543738025,
											"children": [
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "compare-at-x",
															"objectClass": "A_QueryActions",
															"sid": 585549750350296,
															"parameters": {
																"x": "4",
																"comparison": 0,
																"value": "\"with force\""
															}
														}
													],
													"actions": [],
													"sid": 680578410096291,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "NPC",
																	"sid": 954275269330961,
																	"parameters": {
																		"unique-id": "A_QueryActions.At(2)"
																	}
																}
															],
															"actions": [
																{
																	"id": "wait",
																	"objectClass": "System",
																	"sid": 930252132447033,
																	"parameters": {
																		"seconds": "1"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Hero",
																	"sid": 181106466827855,
																	"parameters": {
																		"instance-variable": "CarryOn",
																		"value": "0"
																	}
																},
																{
																	"id": "set-group-active",
																	"objectClass": "System",
																	"sid": 447658593788972,
																	"parameters": {
																		"group-name": "\"CarryOn\"",
																		"state": "deactivated"
																	}
																},
																{
																	"id": "set-enabled",
																	"objectClass": "Item",
																	"sid": 970057925602272,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"state": "enabled"
																	}
																},
																{
																	"id": "set-angle-of-motion",
																	"objectClass": "Item",
																	"sid": 226194083840536,
																	"behaviorType": "Bullet",
																	"parameters": {
																		"angle": "angle(Item.X,Item.Y,NPC.X,NPC.Y)"
																	}
																}
															],
															"sid": 875805538706379
														}
													]
												},
												{
													"eventType": "block",
													"conditions": [
														{
															"id": "else",
															"objectClass": "System",
															"sid": 828229118073367
														}
													],
													"actions": [],
													"sid": 847360658077047,
													"children": [
														{
															"eventType": "block",
															"conditions": [
																{
																	"id": "pick-by-unique-id",
																	"objectClass": "NPC",
																	"sid": 576937899054758,
																	"parameters": {
																		"unique-id": "A_QueryActions.At(2)"
																	}
																}
															],
															"actions": [
																{
																	"id": "find-path",
																	"objectClass": "Hero",
																	"sid": 484553825555378,
																	"behaviorType": "Pathfinding",
																	"parameters": {
																		"x": "NPC.X",
																		"y": "NPC.Y"
																	}
																},
																{
																	"id": "set-instvar-value",
																	"objectClass": "Hero",
																	"sid": 575254864198703,
																	"parameters": {
																		"instance-variable": "State",
																		"value": "\"MoveToWhom\""
																	}
																}
															],
															"sid": 964362773205885
														}
													]
												}
											]
										}
									]
								}
							]
						}
					],
					"sid": 330720593836671
				}
			],
			"sid": 504850293771682
		}
	],
	"sid": 395222502873986
}