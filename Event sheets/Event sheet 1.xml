<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable constant="0" name="CellSize" sid="482696417274885" static="0" type="number">8</variable>
        <variable constant="0" name="CellOffset" sid="107657246257206" static="0" type="number">24</variable>
        <variable constant="0" name="index" sid="282621224296982" static="0" type="number">0</variable>
        <variable comment="122" constant="0" name="xhero" sid="414587724035156" static="0" type="number">200</variable>
        <variable constant="0" name="yhero" sid="584806241637865" static="0" type="number">112</variable>
        <variable constant="0" name="level" sid="299263907333724" static="0" type="number">0</variable>
        <variable constant="0" name="a" sid="585156598197818" static="0" type="number">0</variable>
        <variable constant="0" name="b" sid="994436646287060" static="0" type="number">2</variable>
        <variable constant="0" name="FlipFlop" sid="956385394907155" static="0" type="number">0</variable>
        <event-group description="" sid="587627816527927" title="Puzzle">
            <sub-events>
                <event-block sid="822939544495860">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="775776951095698" type="System" />
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="861984342915859" type="P_Magic" />
                    </actions>
                    <sub-events>
                        <event-block sid="245656133176903">
                            <conditions>
                                <condition id="2" name="Is playing" sid="630614412582221" type="S_Idea">
                                    <param id="0" name="Animation">&quot;want&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="749022898400243" type="A_Idea">
                                    <param id="0" name="Width">2</param>
                                    <param id="1" name="Height">2</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="916587347438140" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Want&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="211370433225979" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">&quot;i want&quot;</param>
                                </action>
                                <action id="4" name="Set animation" sid="196826749177481" type="S_Idea">
                                    <param id="0" name="Animation">&quot;want&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="907609032476020">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="550909880039681" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="872503170270788" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="356834029890013">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="995581953294180" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="892740829732275" type="Function">
                                    <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="412082632180563">
                    <conditions>
                        <condition behavior="DragDrop" id="2" name="On drop" sid="348934494994161" type="S_Idea" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <variable constant="0" name="OverlapCells" sid="656709785442711" static="0" type="number">0</variable>
                        <event-block sid="766594620600720">
                            <conditions>
                                <condition id="3" name="For each element" sid="255430593609131" type="A_Idea">
                                    <param id="0" name="Axes">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="762956087597399">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="903540029273641" type="A_Map">
                                            <param id="0" name="X">A_Idea.CurX+S_Idea.DragPositionX</param>
                                            <param id="1" name="Y">A_Idea.CurY+S_Idea.DragPositionY</param>
                                            <param id="2" name="Comparison">1</param>
                                            <param id="3" name="Value">0</param>
                                        </condition>
                                        <condition id="1" name="Compare at XY" sid="980973991185652" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Comparison">1</param>
                                            <param id="3" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="374639529607526" type="System">
                                            <param id="0" name="Variable">OverlapCells</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="372880711535661">
                                    <conditions>
                                        <condition id="-21" inverted="1" name="Is between values" sid="380121165943179" type="System">
                                            <param id="0" name="Value">A_Idea.CurX+S_Idea.DragPositionX</param>
                                            <param id="1" name="Lower bound">0</param>
                                            <param id="2" name="Upper bound">A_Map.Width-1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="486974859178890" type="System">
                                            <param id="0" name="Variable">OverlapCells</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="140407505383748">
                                    <conditions>
                                        <condition id="-21" inverted="1" name="Is between values" sid="694932676351943" type="System">
                                            <param id="0" name="Value">A_Idea.CurY+S_Idea.DragPositionY</param>
                                            <param id="1" name="Lower bound">0</param>
                                            <param id="2" name="Upper bound">A_Map.height-1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="493036124061262" type="System">
                                            <param id="0" name="Variable">OverlapCells</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="453120558593912">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="318136661907117" type="S_Idea">
                                            <param id="0" name="Instance variable">GridPositionX</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">S_Idea.DragPositionX</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="686012767705305" type="S_Idea">
                                            <param id="0" name="Instance variable">GridPositionY</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">S_Idea.DragPositionY</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Add to" sid="664270124958619" type="System">
                                            <param id="0" name="Variable">OverlapCells</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="472898231751647">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="808399752495729" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="688023079806274">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="901504479138747" type="System">
                                            <param id="0" name="Variable">OverlapCells</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="819100587197913" type="S_Idea">
                                            <param id="0" name="X">S_Idea.GridPositionX*CellSize+CellOffset</param>
                                            <param id="1" name="Y">S_Idea.GridPositionY*CellSize+CellOffset</param>
                                        </action>
                                        <action id="-18" name="Rotate clockwise" sid="679791402523605" type="S_Idea">
                                            <param id="0" name="Degrees">90</param>
                                        </action>
                                        <action id="0" name="Call function" sid="704965027830170" type="Function">
                                            <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="462928191903325">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="929345960228037" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="363529365812983" type="S_Idea">
                                            <param id="0" name="Instance variable">GridPositionX</param>
                                            <param id="1" name="Value">floor((S_Idea.X-CellOffset)/CellSize)</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="579681500997782" type="S_Idea">
                                            <param id="0" name="Instance variable">GridPositionY</param>
                                            <param id="1" name="Value">floor((S_Idea.Y-CellOffset)/CellSize)</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="367525165735504" type="A_Map">
                                            <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                            <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                            <param id="2" name="Value">A_Idea.CurValue</param>
                                        </action>
                                        <action id="-3" name="Set position" sid="447244401181761" type="S_Idea">
                                            <param id="0" name="X">S_Idea.GridPositionX*CellSize+CellOffset</param>
                                            <param id="1" name="Y">S_Idea.GridPositionY*CellSize+CellOffset</param>
                                        </action>
                                        <action id="0" name="Call function" sid="893323630546237" type="Function">
                                            <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="863908040188523" type="Function">
                                            <param id="0" name="Name">&quot;CheckSpawnIdea&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="689010590056354" type="Function">
                                            <param id="0" name="Name">&quot;SetLinksWeight&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="567851295958168">
                    <conditions>
                        <condition behavior="DragDrop" id="1" name="On drag start" sid="423052802639818" type="S_Idea" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="770963894793402">
                            <conditions>
                                <condition id="3" name="For each element" sid="937028862125256" type="A_Idea">
                                    <param id="0" name="Axes">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set at XY" sid="676043183284638" type="A_Map">
                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="526349428881979">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="670065399761288" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="428411438759286" type="Function">
                                    <param id="0" name="Name">&quot;DebugGrid&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="224391444318302">
                    <conditions>
                        <condition behavior="DragDrop" id="0" name="Is dragging" sid="768503764932647" type="S_Idea" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="505259341009266" type="S_Idea">
                            <param id="0" name="Instance variable">DragPositionX</param>
                            <param id="1" name="Value">floor((S_Idea.X-CellOffset)/CellSize)</param>
                        </action>
                        <action id="-10" name="Set value" sid="969361277609091" type="S_Idea">
                            <param id="0" name="Instance variable">DragPositionY</param>
                            <param id="1" name="Value">floor((S_Idea.Y-CellOffset)/CellSize)</param>
                        </action>
                        <action id="-3" name="Set position" sid="206025541382978" type="S_Idea">
                            <param id="0" name="X">S_Idea.DragPositionX*CellSize+CellOffset</param>
                            <param id="1" name="Y">S_Idea.DragPositionY*CellSize+CellOffset</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="298709626920129">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="866046365653340" type="Keyboard">
                                    <param id="0" name="Key">82</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-18" name="Rotate clockwise" sid="177593262929373" type="S_Idea">
                                    <param id="0" name="Degrees">90</param>
                                </action>
                                <action disabled="1" id="0" name="Call function" sid="126465403206366" type="Function">
                                    <param id="0" name="Name">&quot;IdeaRotate&quot;</param>
                                    <param id="1" name="Parameter {n}">s_idea.UID</param>
                                </action>
                                <action disabled="1" id="0" name="Call function" sid="976838587329450" type="Function">
                                    <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action disabled="1" id="0" name="Call function" sid="977930322521724" type="Function">
                                    <param id="0" name="Name">&quot;CheckSpawnIdea&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action disabled="1" id="0" name="Call function" sid="186018198139460" type="Function">
                                    <param id="0" name="Name">&quot;SetLinksWeight&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="501474582237181">
                    <conditions>
                        <condition id="0" name="On function" sid="395958463615118" type="Function">
                            <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="987930963622546">
                            <conditions>
                                <condition id="3" name="For each element" sid="598209617235714" type="A_Map">
                                    <param id="0" name="Axes">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set at XY" sid="986383471755945" type="A_Map">
                                    <param id="0" name="X">A_Map.CurX</param>
                                    <param id="1" name="Y">A_Map.CurY</param>
                                    <param id="2" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="394285597945444">
                            <conditions>
                                <condition id="-11" name="For Each" sid="555135331549992" type="System">
                                    <param id="0" name="Object">S_Idea</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="566725961084054" type="S_Idea">
                                    <param id="0" name="Instance variable">GridPositionX</param>
                                    <param id="1" name="Value">floor((S_Idea.X-CellOffset)/CellSize)</param>
                                </action>
                                <action id="-10" name="Set value" sid="389989896717796" type="S_Idea">
                                    <param id="0" name="Instance variable">GridPositionY</param>
                                    <param id="1" name="Value">floor((S_Idea.Y-CellOffset)/CellSize)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="668714728644586">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="755444584670256" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="206348292785312">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="301971683251532" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="140220111405401" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Value">A_Idea.CurValue</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="301841607028891">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="635554841486459" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="148399593250948" type="S_Idea">
                                    <param id="0" name="X">S_Idea.GridPositionX*CellSize+CellOffset</param>
                                    <param id="1" name="Y">S_Idea.GridPositionY*CellSize+CellOffset</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="878827961572138">
                    <conditions>
                        <condition id="0" name="On function" sid="736953657337889" type="Function">
                            <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="536366026352004" type="System">
                            <param id="0" name="Object to create">S_Idea</param>
                            <param id="1" name="Layer">3</param>
                            <param id="2" name="X">-100</param>
                            <param id="3" name="Y">-100</param>
                        </action>
                        <action id="4" name="Set animation" sid="961471352124039" type="S_Idea">
                            <param id="0" name="Animation">Function.Param(0)</param>
                            <param id="1" name="From">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="118490972155038" type="S_Idea">
                            <param id="0" name="Instance variable">UIDOnMap</param>
                            <param id="1" name="Value">Function.Param(2)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="500515958107600">
                            <conditions>
                                <condition id="2" name="Is playing" sid="315584069222434" type="S_Idea">
                                    <param id="0" name="Animation">&quot;how&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="152964322804936" type="A_Idea">
                                    <param id="0" name="Width">1</param>
                                    <param id="1" name="Height">4</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="312966405668145" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">Function.Param(1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="780164453699837" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;How&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="126330487334292">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="121587258338765" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="718233999035496" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="764166679524413">
                            <conditions>
                                <condition id="2" name="Is playing" sid="692581150884941" type="S_Idea">
                                    <param id="0" name="Animation">&quot;Do&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="856735275702597" type="A_Idea">
                                    <param id="0" name="Width">2</param>
                                    <param id="1" name="Height">3</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="386269883923046" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">Function.Param(1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="479441092176203" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Do&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="626571914554415">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="506341642410409" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="687887837428102" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="500702407755840">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="897463423157845" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="235749957229883" type="A_Idea">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="615300220423863" type="A_Idea">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Y">2</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="960977121283462">
                            <conditions>
                                <condition id="2" name="Is playing" sid="923454980369268" type="S_Idea">
                                    <param id="0" name="Animation">&quot;what&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="310284708894753" type="A_Idea">
                                    <param id="0" name="Width">2</param>
                                    <param id="1" name="Height">3</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="368157818521523" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">Function.Param(1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="885903177281893" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;What&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="195114530031716">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="637993158945540" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="423218553527894" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="952614701479099">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="148650930432400" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="114835936973957" type="A_Idea">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Y">1</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="381066735769725" type="A_Idea">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Y">2</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="242637684833559">
                            <conditions>
                                <condition id="2" name="Is playing" sid="226135994163071" type="S_Idea">
                                    <param id="0" name="Animation">&quot;whom&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="591052366857455" type="A_Idea">
                                    <param id="0" name="Width">2</param>
                                    <param id="1" name="Height">3</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="526024206243849" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">Function.Param(1)</param>
                                </action>
                                <action id="-10" name="Set value" sid="697440496162614" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Whom&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="379786716269974">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="704757395519664" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="513988114704101" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="677379395539565">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="344377477993455" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="661727821799894" type="A_Idea">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Y">0</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                        <action id="3" name="Set at XY" sid="261262624576468" type="A_Idea">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Y">2</param>
                                            <param id="2" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="749600839220642">
                            <conditions>
                                <condition id="2" name="Is playing" sid="811385823596685" type="S_Idea">
                                    <param id="0" name="Animation">&quot;want&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="215877074164939" type="A_Idea">
                                    <param id="0" name="Width">2</param>
                                    <param id="1" name="Height">2</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="225716089095436" type="S_Idea">
                                    <param id="0" name="Instance variable">Type</param>
                                    <param id="1" name="Value">&quot;Want&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="403093678635551" type="S_Idea">
                                    <param id="0" name="Instance variable">Name</param>
                                    <param id="1" name="Value">&quot;i want&quot;</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="156875320808615">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="104303838911215" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="653064791438460" type="A_Idea">
                                            <param id="0" name="X">A_Idea.CurX</param>
                                            <param id="1" name="Y">A_Idea.CurY</param>
                                            <param id="2" name="Value">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <variable constant="0" name="Count" sid="405752964059356" static="0" type="number">0</variable>
                        <event-block sid="574615343962818">
                            <conditions>
                                <condition id="-23" name="While" sid="203044725494625" type="System" />
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="787284462847881" type="S_Idea">
                                    <param id="0" name="Instance variable">DragPositionX</param>
                                    <param id="1" name="Value">floor(random(A_Map.Width-1))</param>
                                </action>
                                <action id="-10" name="Set value" sid="527861979563677" type="S_Idea">
                                    <param id="0" name="Instance variable">DragPositionY</param>
                                    <param id="1" name="Value">floor(random(A_Map.Height-1))</param>
                                </action>
                                <action id="-10" name="Add to" sid="988826274331371" type="System">
                                    <param id="0" name="Variable">Count</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <variable constant="0" name="OverlapCells" sid="389563438397851" static="0" type="number">0</variable>
                                <event-block sid="989060950796998">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="371576529173847" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="209577554685786">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="475854885430474" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.DragPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.DragPositionY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="254416089881578" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="895956922726979" type="System">
                                                    <param id="0" name="Variable">OverlapCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="590073994150633">
                                            <conditions>
                                                <condition id="-21" inverted="1" name="Is between values" sid="985102090529599" type="System">
                                                    <param id="0" name="Value">A_Idea.CurX+S_Idea.DragPositionX</param>
                                                    <param id="1" name="Lower bound">0</param>
                                                    <param id="2" name="Upper bound">A_Map.Width-1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="224986642278680" type="System">
                                                    <param id="0" name="Variable">OverlapCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="767960207475220">
                                            <conditions>
                                                <condition id="-21" inverted="1" name="Is between values" sid="434577172624439" type="System">
                                                    <param id="0" name="Value">A_Idea.CurY+S_Idea.DragPositionY</param>
                                                    <param id="1" name="Lower bound">0</param>
                                                    <param id="2" name="Upper bound">A_Map.height-1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="451274494100163" type="System">
                                                    <param id="0" name="Variable">OverlapCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="821118263169322">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="962454783042404" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="940105737875639">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="301395520185088" type="System">
                                                    <param id="0" name="Variable">OverlapCells</param>
                                                    <param id="1" name="Comparison">4</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="423651134051937">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="891080249006052" type="System">
                                                            <param id="0" name="Variable">Count</param>
                                                            <param id="1" name="Comparison">4</param>
                                                            <param id="2" name="Value">1000</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-24" name="Stop loop" sid="721575670178223" type="System" />
                                                        <action id="-9" name="Destroy" sid="803508586035334" type="S_Idea" />
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="980724553794424">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="452338776132940" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-24" name="Stop loop" sid="480271966987604" type="System" />
                                                <action id="-10" name="Set value" sid="821129173244301" type="S_Idea">
                                                    <param id="0" name="Instance variable">GridPositionX</param>
                                                    <param id="1" name="Value">S_Idea.DragPositionX</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="616738879231822" type="S_Idea">
                                                    <param id="0" name="Instance variable">GridPositionY</param>
                                                    <param id="1" name="Value">S_Idea.DragPositionY</param>
                                                </action>
                                                <action id="3" name="Set at XY" sid="749483487284831" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Value">A_Idea.CurValue</param>
                                                </action>
                                                <action id="-3" name="Set position" sid="375556500806726" type="S_Idea">
                                                    <param id="0" name="X">S_Idea.GridPositionX*CellSize+CellOffset</param>
                                                    <param id="1" name="Y">S_Idea.GridPositionY*CellSize+CellOffset</param>
                                                </action>
                                                <action id="0" name="Call function" sid="484469020407007" type="Function">
                                                    <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="912989830712903">
                    <conditions>
                        <condition id="0" name="On function" sid="931252277235531" type="Function">
                            <param id="0" name="Name">&quot;SetThinksArray&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="317216502919804">
                            <conditions>
                                <condition id="-11" name="For Each" sid="134102159313443" type="System">
                                    <param id="0" name="Object">S_Idea</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="987387631010995">
                                    <conditions>
                                        <condition id="2" name="Is playing" sid="674603887613026" type="S_Idea">
                                            <param id="0" name="Animation">&quot;how&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set size" sid="840566444460324" type="A_Idea">
                                            <param id="0" name="Width">1</param>
                                            <param id="1" name="Height">4</param>
                                            <param id="2" name="Depth">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="731405159345600">
                                            <conditions>
                                                <condition id="3" name="For each element" sid="114656881788117" type="A_Idea">
                                                    <param id="0" name="Axes">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="422427843753636" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="924565339242969">
                                    <conditions>
                                        <condition id="2" name="Is playing" sid="327224558844580" type="S_Idea">
                                            <param id="0" name="Animation">&quot;Do&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set size" sid="455310991597998" type="A_Idea">
                                            <param id="0" name="Width">2</param>
                                            <param id="1" name="Height">3</param>
                                            <param id="2" name="Depth">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="200809227511292">
                                            <conditions>
                                                <condition id="3" name="For each element" sid="498150154386780" type="A_Idea">
                                                    <param id="0" name="Axes">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="807674839039324" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Value">2</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="484081435690429">
                                            <conditions>
                                                <condition id="-4" name="Trigger once while true" sid="897915911824364" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="998459129143376" type="A_Idea">
                                                    <param id="0" name="X">1</param>
                                                    <param id="1" name="Y">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                                <action id="3" name="Set at XY" sid="960567512129826" type="A_Idea">
                                                    <param id="0" name="X">1</param>
                                                    <param id="1" name="Y">2</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="398405803921641">
                                    <conditions>
                                        <condition id="2" name="Is playing" sid="482099465182980" type="S_Idea">
                                            <param id="0" name="Animation">&quot;what&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set size" sid="692031521709058" type="A_Idea">
                                            <param id="0" name="Width">2</param>
                                            <param id="1" name="Height">3</param>
                                            <param id="2" name="Depth">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="579755249406851">
                                            <conditions>
                                                <condition id="3" name="For each element" sid="844367147721972" type="A_Idea">
                                                    <param id="0" name="Axes">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="461101725995086" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Value">3</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="853569375091970">
                                            <conditions>
                                                <condition id="-4" name="Trigger once while true" sid="620864643382013" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="353536809842291" type="A_Idea">
                                                    <param id="0" name="X">1</param>
                                                    <param id="1" name="Y">1</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                                <action id="3" name="Set at XY" sid="167298391555115" type="A_Idea">
                                                    <param id="0" name="X">1</param>
                                                    <param id="1" name="Y">2</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="487013438987600">
                                    <conditions>
                                        <condition id="2" name="Is playing" sid="951208482789954" type="S_Idea">
                                            <param id="0" name="Animation">&quot;whom&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set size" sid="862102384527290" type="A_Idea">
                                            <param id="0" name="Width">2</param>
                                            <param id="1" name="Height">3</param>
                                            <param id="2" name="Depth">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="748655721297403">
                                            <conditions>
                                                <condition id="3" name="For each element" sid="708669889319484" type="A_Idea">
                                                    <param id="0" name="Axes">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="842559460858759" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Value">4</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="491098188790211">
                                            <conditions>
                                                <condition id="-4" name="Trigger once while true" sid="804528885442992" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="667554953321300" type="A_Idea">
                                                    <param id="0" name="X">1</param>
                                                    <param id="1" name="Y">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                                <action id="3" name="Set at XY" sid="821966284596561" type="A_Idea">
                                                    <param id="0" name="X">0</param>
                                                    <param id="1" name="Y">2</param>
                                                    <param id="2" name="Value">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="395594535558987">
                                    <conditions>
                                        <condition id="2" name="Is playing" sid="108003906339775" type="S_Idea">
                                            <param id="0" name="Animation">&quot;want&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set size" sid="300922738202687" type="A_Idea">
                                            <param id="0" name="Width">2</param>
                                            <param id="1" name="Height">2</param>
                                            <param id="2" name="Depth">1</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="511152499720032">
                                            <conditions>
                                                <condition id="3" name="For each element" sid="329467844858590" type="A_Idea">
                                                    <param id="0" name="Axes">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="3" name="Set at XY" sid="927305282402501" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Value">5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="933632325489601">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="373277179407392" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="379371142169145" type="Function">
                                    <param id="0" name="Name">&quot;RedrawMap&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="165755588161534">
                    <conditions>
                        <condition id="0" name="On function" sid="777507174735884" type="Function">
                            <param id="0" name="Name">&quot;IdeaRotate&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="702254467565075">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="117873720252897" type="S_Idea">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="970017250679314" type="A_IdeaRotateHelper">
                                    <param id="0" name="Width"> A_Idea.Height</param>
                                    <param id="1" name="Height">A_Idea.Width</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="198724349614144">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="828795458827240" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="651180914910262" type="A_IdeaRotateHelper">
                                            <param id="0" name="X">A_Idea.CurY</param>
                                            <param id="1" name="Y">A_Idea.Width-1-A_Idea.CurX</param>
                                            <param id="2" name="Value">A_Idea.Curvalue</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="253923049446000">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="220208651662616" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Set size" sid="455689570549247" type="A_Idea">
                                    <param id="0" name="Width"> A_IdeaRotateHelper.Height</param>
                                    <param id="1" name="Height">A_IdeaRotateHelper.Width</param>
                                    <param id="2" name="Depth">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="272605817186415">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="393389851861294" type="A_IdeaRotateHelper">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Set at XY" sid="398883007428504" type="A_Idea">
                                            <param id="0" name="X">A_IdeaRotateHelper.CurX</param>
                                            <param id="1" name="Y">A_IdeaRotateHelper.CurY</param>
                                            <param id="2" name="Value">A_IdeaRotateHelper.Curvalue</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="802188153979670">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="926557707394480" type="System" />
                            </conditions>
                            <actions />
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="458269123805033">
                    <conditions>
                        <condition id="0" name="On function" sid="915535924547974" type="Function">
                            <param id="0" name="Name">&quot;SetLinksWeight&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="276657316662883">
                            <conditions>
                                <condition id="-11" name="For Each" sid="570327675916605" type="System">
                                    <param id="0" name="Object">S_Idea</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Clear" sid="982127256050849" type="D_LinksUID" />
                            </actions>
                            <sub-events>
                                <variable constant="0" name="CountAroundOtherCells" sid="840529119653753" static="0" type="number">0</variable>
                                <variable constant="0" name="UID" sid="600831215052982" static="0" type="text"></variable>
                                <event-block sid="448676760505140">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="535136832811669" type="A_Idea">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="841933224155122">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="547872100197806" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX+1</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="370342222550031" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX+1</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">S_Idea.uid</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="964519879659539" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="137253895072356" type="System">
                                                    <param id="0" name="Variable">CountAroundOtherCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="628582942254549" type="System">
                                                    <param id="0" name="Variable">UID</param>
                                                    <param id="1" name="Value">A_Map.At(A_Idea.CurX+S_Idea.GridPositionX+1,A_Idea.CurY+S_Idea.GridPositionY)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="557556254908038">
                                                    <conditions>
                                                        <condition id="3" name="Has key" sid="722575880599029" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set key" sid="656322534815870" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">D_LinksUID.Get(UID)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="370963308710802">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="692392053548867" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Add key" sid="524683918356562" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="807930745651909">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="307526314796259" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY+1</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="595993553939678" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY+1</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">S_Idea.UID</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="536717448120325" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="983443507969429" type="System">
                                                    <param id="0" name="Variable">CountAroundOtherCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="829643754699861" type="System">
                                                    <param id="0" name="Variable">UID</param>
                                                    <param id="1" name="Value">A_Map.At(A_Idea.CurX+S_Idea.GridPositionX,A_Idea.CurY+S_Idea.GridPositionY+1)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="327628382182311">
                                                    <conditions>
                                                        <condition id="3" name="Has key" sid="476515717024683" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set key" sid="787076188641106" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">D_LinksUID.Get(UID)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="873067892512762">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="537175897879185" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Add key" sid="706726220903955" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="578173609834494">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="656771394960608" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX-1</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="486952788365332" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX-1</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">S_Idea.UID</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="625087512320839" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="997382503481149" type="System">
                                                    <param id="0" name="Variable">CountAroundOtherCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="121864264740438" type="System">
                                                    <param id="0" name="Variable">UID</param>
                                                    <param id="1" name="Value">A_Map.At(A_Idea.CurX+S_Idea.GridPositionX-1,A_Idea.CurY+S_Idea.GridPositionY)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="353362429329609">
                                                    <conditions>
                                                        <condition id="3" name="Has key" sid="921689715165598" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set key" sid="645373437820262" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">D_LinksUID.Get(UID)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="529122477665837">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="544960555628459" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Add key" sid="469260612403831" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="444399233404453">
                                            <conditions>
                                                <condition id="1" name="Compare at XY" sid="427585322124237" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY-1</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="725897224473624" type="A_Map">
                                                    <param id="0" name="X">A_Idea.CurX+S_Idea.GridPositionX</param>
                                                    <param id="1" name="Y">A_Idea.CurY+S_Idea.GridPositionY-1</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">S_Idea.UID</param>
                                                </condition>
                                                <condition id="1" name="Compare at XY" sid="843808907669240" type="A_Idea">
                                                    <param id="0" name="X">A_Idea.CurX</param>
                                                    <param id="1" name="Y">A_Idea.CurY</param>
                                                    <param id="2" name="Comparison">1</param>
                                                    <param id="3" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="378090466618185" type="System">
                                                    <param id="0" name="Variable">CountAroundOtherCells</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="332581318782761" type="System">
                                                    <param id="0" name="Variable">UID</param>
                                                    <param id="1" name="Value">A_Map.At(A_Idea.CurX+S_Idea.GridPositionX,A_Idea.CurY+S_Idea.GridPositionY-1)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="515891317907383">
                                                    <conditions>
                                                        <condition id="3" name="Has key" sid="122314310248484" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set key" sid="533138892912410" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">D_LinksUID.Get(UID)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="865925359877990">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="686134505016924" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Add key" sid="400575246556112" type="D_LinksUID">
                                                            <param id="0" name="Key">UID</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="146710252059213">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="638509240387834" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="3" name="Clear" sid="538068183388011" type="D_LinksType" />
                                    </actions>
                                    <sub-events>
                                        <event-block sid="973978267697260">
                                            <conditions>
                                                <condition id="1" name="For each key" sid="672612564362074" type="D_LinksUID" />
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="181407003162295">
                                                    <conditions>
                                                        <condition id="-4" name="Trigger once while true" sid="299084152484980" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="635153053292030" type="Function">
                                                            <param id="0" name="Name">&quot;GetType&quot;</param>
                                                            <param id="1" name="Parameter {n}">D_LinksUID.CurrentKey</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="524773571346376">
                                                            <conditions>
                                                                <condition id="-7" inverted="1" name="Compare instance variable" sid="630091998404449" type="S_Idea">
                                                                    <param id="0" name="Instance variable">Type</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">Function.ReturnValue</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions />
                                                            <sub-events>
                                                                <event-block sid="972349080164316">
                                                                    <conditions>
                                                                        <condition id="3" name="Has key" sid="179946999909145" type="D_LinksType">
                                                                            <param id="0" name="Key">Function.ReturnValue</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions />
                                                                    <sub-events>
                                                                        <event-block sid="336366271925102">
                                                                            <conditions>
                                                                                <condition id="0" name="Compare value" sid="250480228279586" type="D_LinksUID">
                                                                                    <param id="0" name="Key">D_LinksUID.CurrentKey</param>
                                                                                    <param id="1" name="Comparison">4</param>
                                                                                    <param id="2" name="Value">D_LinksUID.get(D_LinksType.get(Function.ReturnValue))</param>
                                                                                </condition>
                                                                            </conditions>
                                                                            <actions>
                                                                                <action id="1" name="Set key" sid="168689621094751" type="D_LinksType">
                                                                                    <param id="0" name="Key">Function.ReturnValue</param>
                                                                                    <param id="1" name="Value">D_LinksUID.CurrentValue</param>
                                                                                </action>
                                                                                <action disabled="1" id="2" name="Delete key" sid="168863684734184" type="D_LinksUID">
                                                                                    <param id="0" name="Key">D_LinksUID.get(D_LinksType.get(Function.ReturnValue))</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                        <event-block sid="246286039362594">
                                                                            <conditions>
                                                                                <condition id="-22" name="Else" sid="476371126250957" type="System" />
                                                                            </conditions>
                                                                            <actions>
                                                                                <action disabled="1" id="2" name="Delete key" sid="583042823346945" type="D_LinksUID">
                                                                                    <param id="0" name="Key">D_LinksUID.CurrentKey</param>
                                                                                </action>
                                                                            </actions>
                                                                        </event-block>
                                                                    </sub-events>
                                                                </event-block>
                                                                <event-block sid="941119776436123">
                                                                    <conditions>
                                                                        <condition id="-22" name="Else" sid="306674011240998" type="System" />
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="0" name="Add key" sid="470029358327513" type="D_LinksType">
                                                                            <param id="0" name="Key">Function.ReturnValue</param>
                                                                            <param id="1" name="Value">D_LinksUID.CurrentKey</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="506838301584626">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="104421929595380" type="System">
                                            <param id="0" name="First value">D_LinksType.KeyCount</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">4</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="276853854165535">
                                            <conditions>
                                                <condition id="1" name="For each key" sid="798317181999429" type="D_LinksType" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="232518706201405" type="Function">
                                                    <param id="0" name="Name">&quot;GetType&quot;</param>
                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="643893962728276">
                                                    <conditions>
                                                        <condition id="-4" name="Trigger once while true" sid="178001721627138" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="2" name="Set at X" sid="294126944135114" type="A_FinalPhrase">
                                                            <param id="0" name="X">0</param>
                                                            <param id="1" name="Value">&quot;i want&quot;</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <event-block sid="358409258062927">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="626060076452380" type="System">
                                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">&quot;Do&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="653574572314598" type="Function">
                                                                    <param id="0" name="Name">&quot;GetName&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="611629633028940" type="A_FinalPhrase">
                                                                    <param id="0" name="X">1</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="282873304005438" type="A_QueryActions">
                                                                    <param id="0" name="X">1</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="159042398038381">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="831427886208615" type="System">
                                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">&quot;Whom&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="643429136532455" type="Function">
                                                                    <param id="0" name="Name">&quot;GetName&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="317669251087546" type="A_FinalPhrase">
                                                                    <param id="0" name="X">2</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                                <action id="0" name="Call function" sid="387925803590705" type="Function">
                                                                    <param id="0" name="Name">&quot;GetUIDOnMap&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="471093149082741" type="A_QueryActions">
                                                                    <param id="0" name="X">2</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="854482241078151">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="872115111747368" type="System">
                                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">&quot;What&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="363604389813880" type="Function">
                                                                    <param id="0" name="Name">&quot;GetName&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="863233695347978" type="A_FinalPhrase">
                                                                    <param id="0" name="X">3</param>
                                                                    <param id="1" name="Value">&quot;using &quot;&amp;Function.ReturnValue</param>
                                                                </action>
                                                                <action id="0" name="Call function" sid="859221821013114" type="Function">
                                                                    <param id="0" name="Name">&quot;GetUIDOnMap&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="546505806205076" type="A_QueryActions">
                                                                    <param id="0" name="X">3</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="369124267633180">
                                                            <conditions>
                                                                <condition id="-8" name="Compare two values" sid="500140779872938" type="System">
                                                                    <param id="0" name="First value">Function.ReturnValue</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Second value">&quot;How&quot;</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="741719358874198" type="Function">
                                                                    <param id="0" name="Name">&quot;GetName&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="900245990360972" type="A_FinalPhrase">
                                                                    <param id="0" name="X">4</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                                <action id="2" name="Set at X" sid="636081695655597" type="A_QueryActions">
                                                                    <param id="0" name="X">4</param>
                                                                    <param id="1" name="Value">Function.ReturnValue</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <event-block sid="199399016776640">
                                                            <conditions>
                                                                <condition id="-4" name="Trigger once while true" sid="241788012865927" type="System" />
                                                            </conditions>
                                                            <actions>
                                                                <action id="0" name="Call function" sid="566058212191333" type="Function">
                                                                    <param id="0" name="Name">&quot;DestroyIdeas&quot;</param>
                                                                    <param id="1" name="Parameter {n}">D_LinksType.CurrentValue</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <event-block sid="247262607796013">
                                            <conditions>
                                                <condition id="-4" name="Trigger once while true" sid="147121655890858" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="490580807384002" type="Function">
                                                    <param id="0" name="Name">&quot;GetType&quot;</param>
                                                    <param id="1" name="Parameter {n}">UID</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="604080976226657">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="995850181827771" type="System">
                                                            <param id="0" name="First value">Function.ReturnValue</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">&quot;Do&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="424701761074341" type="Function">
                                                            <param id="0" name="Name">&quot;GetName&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="402297265875160" type="A_FinalPhrase">
                                                            <param id="0" name="X">1</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="218032957742431" type="A_QueryActions">
                                                            <param id="0" name="X">1</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="660768262309199">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="212701132105225" type="System">
                                                            <param id="0" name="First value">Function.ReturnValue</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">&quot;Whom&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="303740260744137" type="Function">
                                                            <param id="0" name="Name">&quot;GetName&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="864143011265606" type="A_FinalPhrase">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                        <action id="0" name="Call function" sid="292883010737053" type="Function">
                                                            <param id="0" name="Name">&quot;GetUIDOnMap&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="619003576957446" type="A_QueryActions">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="840823756928808">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="931076863787758" type="System">
                                                            <param id="0" name="First value">Function.ReturnValue</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">&quot;What&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="465914040208913" type="Function">
                                                            <param id="0" name="Name">&quot;GetName&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="296839967858466" type="A_FinalPhrase">
                                                            <param id="0" name="X">3</param>
                                                            <param id="1" name="Value">&quot;using &quot;&amp;Function.ReturnValue</param>
                                                        </action>
                                                        <action id="0" name="Call function" sid="959632159590621" type="Function">
                                                            <param id="0" name="Name">&quot;GetUIDOnMap&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="932824468008133" type="A_QueryActions">
                                                            <param id="0" name="X">3</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="485271140408286">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="689588935891563" type="System">
                                                            <param id="0" name="First value">Function.ReturnValue</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Second value">&quot;How&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="665842871073631" type="Function">
                                                            <param id="0" name="Name">&quot;GetName&quot;</param>
                                                            <param id="1" name="Parameter {n}">UID</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="647145258328969" type="A_FinalPhrase">
                                                            <param id="0" name="X">4</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                        <action id="2" name="Set at X" sid="765805910808527" type="A_QueryActions">
                                                            <param id="0" name="X">4</param>
                                                            <param id="1" name="Value">Function.ReturnValue</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="964582071128258">
                                                    <conditions>
                                                        <condition id="-4" name="Trigger once while true" sid="325515081247794" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-9" name="Destroy" sid="661298064709773" type="S_Idea" />
                                                    </actions>
                                                </event-block>
                                                <event-block sid="164232273158439">
                                                    <conditions>
                                                        <condition id="3" name="For each element" sid="763445086179847" type="A_FinalPhrase">
                                                            <param id="0" name="Axes">2</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Append text" sid="625838376118312" type="SF_DEBUG">
                                                            <param id="0" name="Text">A_FinalPhrase.CurValue&amp;&quot; &quot;</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="678030776118912">
                                                    <conditions>
                                                        <condition id="-4" name="Trigger once while true" sid="893363373793992" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Call function" sid="512681152943407" type="Function">
                                                            <param id="0" name="Name">&quot;SetText&quot;</param>
                                                            <param id="1" name="Parameter {n}">SF_DEBUG.Text</param>
                                                        </action>
                                                        <action id="0" name="Set text" sid="122374719781894" type="SF_DEBUG">
                                                            <param id="0" name="Text">&quot;&quot;</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="169886346857834">
                    <conditions>
                        <condition id="0" name="On function" sid="478889134730994" type="Function">
                            <param id="0" name="Name">&quot;GetType&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="655962933584189">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="175852838632055" type="S_Idea">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="404117363428522" type="Function">
                                    <param id="0" name="Value">S_Idea.Type</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="205068145237578">
                    <conditions>
                        <condition id="0" name="On function" sid="298349399049122" type="Function">
                            <param id="0" name="Name">&quot;GetName&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="937474948329843">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="977366760278641" type="S_Idea">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="324218435032719" type="Function">
                                    <param id="0" name="Value">S_Idea.Name</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="458625137392791">
                    <conditions>
                        <condition id="0" name="On function" sid="901185009148451" type="Function">
                            <param id="0" name="Name">&quot;GetUIDOnMap&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="282826912087885">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="712185923826620" type="S_Idea">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set return value" sid="313964475635276" type="Function">
                                    <param id="0" name="Value">S_Idea.UIDOnMap</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="251193441542892">
                    <conditions>
                        <condition id="0" name="On function" sid="634987036033358" type="Function">
                            <param id="0" name="Name">&quot;DestroyIdeas&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="727665654070158">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="532053506311931" type="S_Idea">
                                    <param id="0" name="Unique ID">Function.Param(0)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="413042091525250" type="S_Idea" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="504850293771682" title="Action">
            <sub-events>
                <event-block sid="485021774601730">
                    <conditions>
                        <condition id="0" name="On function" sid="953965674411463" type="Function">
                            <param id="0" name="Name">&quot;CheckSpawnIdea&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="853061630813657" type="System">
                            <param id="0" name="Variable">FlipFlop</param>
                            <param id="1" name="Value">choose(0,0,0,1,1,1,2,2,2,3,3,4,4)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="678967945602949">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="905807532806957" type="System">
                                    <param id="0" name="Variable">FlipFlop</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="277515190837209">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="437818684566929" type="S_What">
                                            <param id="0" name="Instance variable">InPuzzle</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="958603578076123">
                                            <conditions>
                                                <condition id="-15" name="Pick nearest/furthest" sid="216275282488831" type="S_What">
                                                    <param id="0" name="Which">0</param>
                                                    <param id="1" name="X">S_Hero.X</param>
                                                    <param id="2" name="Y">S_Hero.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="939504267395087" type="Function">
                                                    <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;what&quot;{###}S_What.Name{###}S_What.UID</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="591231215598987" type="S_What">
                                                    <param id="0" name="Instance variable">InPuzzle</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="160725405274560">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="289389798772983" type="System">
                                    <param id="0" name="Variable">FlipFlop</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="699412349903291">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="466589586943854" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="131642814883244">
                                            <conditions>
                                                <condition id="-15" name="Pick nearest/furthest" sid="374116996019570" type="S_Whom">
                                                    <param id="0" name="Which">0</param>
                                                    <param id="1" name="X">S_Hero.X</param>
                                                    <param id="2" name="Y">S_Hero.Y</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="575513301995510" type="Function">
                                                    <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;whom&quot;{###}S_Whom.Name{###}S_Whom.UID</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="903946077694414" type="S_Whom">
                                                    <param id="0" name="Instance variable">inPuzzle</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="466554951275494">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="922069320806210" type="System">
                                    <param id="0" name="Variable">FlipFlop</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="567120902717040" type="Function">
                                    <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;do&quot;{###}choose(&quot;fight with&quot;, &quot;cast spell on&quot;, &quot;to feed&quot;, &quot;trade with&quot;, &quot;argue with&quot;, &quot;pickpocket from&quot;, &quot;hug&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="128848098442482">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="730765607873180" type="System">
                                    <param id="0" name="Variable">FlipFlop</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">3</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="421681790041752" type="Function">
                                    <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;how&quot;{###}choose(&quot;quickly&quot;, &quot;stealthily&quot;, &quot;brutally&quot;, &quot;wisely&quot;, &quot;magically&quot;, &quot;with force&quot;, &quot;carefully&quot;, &quot;with charm&quot;, &quot;loudly&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="335501443384132">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="516957706887595" type="System">
                                    <param id="0" name="Variable">FlipFlop</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">4</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="918363070805094" type="Function">
                                    <param id="0" name="Name">&quot;SpawnNewThink&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;want&quot;{###}&quot;want&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-group description="" sid="465340771372226" title="MapGenerate">
                    <sub-events>
                        <event-block sid="579209249591247">
                            <conditions>
                                <condition id="-2" name="On start of layout" sid="222317396498413" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="571740068832659">
                                    <conditions>
                                        <condition id="-12" name="Repeat" sid="971699161514135" type="System">
                                            <param id="0" name="Count">4</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="2" name="Set at X" sid="128877249536288" type="A_Destroyer">
                                            <param id="0" name="X">0</param>
                                            <param id="1" name="Value">60</param>
                                        </action>
                                        <action id="2" name="Set at X" sid="685679644620783" type="A_Destroyer">
                                            <param id="0" name="X">1</param>
                                            <param id="1" name="Value">60</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="179024568256225">
                                            <conditions>
                                                <condition id="-12" name="Repeat" sid="677543288926605" type="System">
                                                    <param id="0" name="Count">1000</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="2" name="Set at X" sid="850473411879119" type="A_Destroyer">
                                                    <param id="0" name="X">2</param>
                                                    <param id="1" name="Value">choose(0,1,2,3)</param>
                                                </action>
                                                <action id="3" name="Set at XY" sid="596413972646214" type="A_Level">
                                                    <param id="0" name="X">A_Destroyer.At(0)</param>
                                                    <param id="1" name="Y">A_Destroyer.At(1)</param>
                                                    <param id="2" name="Value">1</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="590834071761958">
                                                    <conditions>
                                                        <condition id="0" name="Compare at X" sid="805962935403474" type="A_Destroyer">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="2" name="Set at X" sid="187428157423785" type="A_Destroyer">
                                                            <param id="0" name="X">0</param>
                                                            <param id="1" name="Value">A_Destroyer.At(0)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="616795743326056">
                                                    <conditions>
                                                        <condition id="0" name="Compare at X" sid="107234466988109" type="A_Destroyer">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="2" name="Set at X" sid="436055774117618" type="A_Destroyer">
                                                            <param id="0" name="X">1</param>
                                                            <param id="1" name="Value">A_Destroyer.At(1)+1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="237202476065940">
                                                    <conditions>
                                                        <condition id="0" name="Compare at X" sid="902080626200423" type="A_Destroyer">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">2</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="2" name="Set at X" sid="505792812724543" type="A_Destroyer">
                                                            <param id="0" name="X">0</param>
                                                            <param id="1" name="Value">A_Destroyer.At(0)-1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="696392935411736">
                                                    <conditions>
                                                        <condition id="0" name="Compare at X" sid="110770227340016" type="A_Destroyer">
                                                            <param id="0" name="X">2</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">3</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="2" name="Set at X" sid="988437127234435" type="A_Destroyer">
                                                            <param id="0" name="X">1</param>
                                                            <param id="1" name="Value">A_Destroyer.At(1)-1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="313018863184992">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="240323036721466" type="A_Level">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set tile" sid="597594267737963" type="TM_LevelGround">
                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                            <param id="2" name="Tile">floor(random(16))</param>
                                            <param id="3" name="State">3</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <variable constant="0" name="Cleaner" sid="392613499827300" static="0" type="number">0</variable>
                                        <event-block sid="391002008360138">
                                            <conditions>
                                                <condition id="4" name="Compare current value" sid="179310915411220" type="A_Level">
                                                    <param id="0" name="Comparison">0</param>
                                                    <param id="1" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="417973132195209">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="353393951379599" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX+1</param>
                                                            <param id="1" name="Y">A_Level.CurY</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="759894422073997" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="198649846132402">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="108215898653703" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX+1</param>
                                                            <param id="1" name="Y">A_Level.CurY+1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="804799617360406" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="372126747898478">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="886408297763569" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX</param>
                                                            <param id="1" name="Y">A_Level.CurY+1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="784857258332051" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="481248614102971">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="309307845443543" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX-1</param>
                                                            <param id="1" name="Y">A_Level.CurY+1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="173551812050153" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="283443325679680">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="371851698827602" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX-1</param>
                                                            <param id="1" name="Y">A_Level.CurY</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="252402848029913" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="955940178061796">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="526425271554978" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX-1</param>
                                                            <param id="1" name="Y">A_Level.CurY-1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="421265171973154" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="679733796971041">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="956946568814386" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX</param>
                                                            <param id="1" name="Y">A_Level.CurY-1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="231528784877263" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="952613242795928">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="604778273511803" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX+1</param>
                                                            <param id="1" name="Y">A_Level.CurY-1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">0</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="878019609638731" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="677051405203016">
                                                    <conditions>
                                                        <condition id="-4" name="Trigger once while true" sid="917039204563266" type="System" />
                                                        <condition id="-14" name="Compare variable" sid="719818038581017" type="System">
                                                            <param id="0" name="Variable">Cleaner</param>
                                                            <param id="1" name="Comparison">3</param>
                                                            <param id="2" name="Value">2</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="3" name="Set at XY" sid="483491148104856" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX</param>
                                                            <param id="1" name="Y">A_Level.CurY</param>
                                                            <param id="2" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="747944881567333">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="532129323327306" type="A_Level">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="1" name="Set tile" sid="399757703745382" type="TM_LevelWall">
                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                            <param id="2" name="Tile">A_Level.CurValue</param>
                                            <param id="3" name="State">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <variable constant="0" name="whatwhom" sid="939076594899157" static="0" type="number">0</variable>
                                        <event-block sid="715330892521434">
                                            <conditions>
                                                <condition id="0" name="Compare tile at" sid="127859646220130" type="TM_LevelWall">
                                                    <param id="0" name="Tile X">A_Level.CurX</param>
                                                    <param id="1" name="Tile Y">A_Level.CurY</param>
                                                    <param id="2" name="Comparison">0</param>
                                                    <param id="3" name="Tile">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Erase tile" sid="948134384913586" type="TM_LevelWall">
                                                    <param id="0" name="Tile X">A_Level.CurX</param>
                                                    <param id="1" name="Tile Y">A_Level.CurY</param>
                                                </action>
                                                <action id="-9" name="Set value" sid="793810972857055" type="System">
                                                    <param id="0" name="Variable">whatwhom</param>
                                                    <param id="1" name="Value">choose(0,1)</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="861957027032415">
                                                    <conditions>
                                                        <condition id="-8" name="Compare two values" sid="552337904277668" type="System">
                                                            <param id="0" name="First value">random(1)</param>
                                                            <param id="1" name="Comparison">3</param>
                                                            <param id="2" name="Second value">0.15</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="232741849039010">
                                                            <conditions>
                                                                <condition id="-14" name="Compare variable" sid="934239374418427" type="System">
                                                                    <param id="0" name="Variable">whatwhom</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">0</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Create object" sid="304001938578255" type="System">
                                                                    <param id="0" name="Object to create">S_What</param>
                                                                    <param id="1" name="Layer">1</param>
                                                                    <param id="2" name="X">A_Level.CurX*16</param>
                                                                    <param id="3" name="Y">A_Level.CurY*16</param>
                                                                </action>
                                                                <action id="5" name="Set frame" sid="207732710320857" type="S_What">
                                                                    <param id="0" name="Frame number">choose(0,1,1,2,2,2,2,2,3,3,4)</param>
                                                                </action>
                                                            </actions>
                                                            <sub-events>
                                                                <event-block sid="243356606085223">
                                                                    <conditions>
                                                                        <condition id="3" name="Compare frame" sid="944770976028914" type="S_What">
                                                                            <param id="0" name="Comparison">0</param>
                                                                            <param id="1" name="Number">0</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="212479404854076" type="S_What">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Value">&quot;dagger&quot;</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="523324579873885" type="S_What">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">15</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="356812012275883" type="S_What">
                                                                            <param id="0" name="Instance variable">Price</param>
                                                                            <param id="1" name="Value">30</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="581556382269934" type="S_What">
                                                                            <param id="0" name="Instance variable">Heal</param>
                                                                            <param id="1" name="Value">-15</param>
                                                                        </action>
                                                                        <action id="-13" name="Set boolean" sid="605572521093692" type="S_What">
                                                                            <param id="0" name="Instance variable">edible</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="939684775809922">
                                                                    <conditions>
                                                                        <condition id="3" name="Compare frame" sid="124287735875152" type="S_What">
                                                                            <param id="0" name="Comparison">0</param>
                                                                            <param id="1" name="Number">1</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="873675748664274" type="S_What">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Value">&quot;boot&quot;</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="162607553868535" type="S_What">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">5</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="211201718625848" type="S_What">
                                                                            <param id="0" name="Instance variable">Price</param>
                                                                            <param id="1" name="Value">10</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="850385357319737" type="S_What">
                                                                            <param id="0" name="Instance variable">Heal</param>
                                                                            <param id="1" name="Value">-5</param>
                                                                        </action>
                                                                        <action id="-13" name="Set boolean" sid="189878594804821" type="S_What">
                                                                            <param id="0" name="Instance variable">edible</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="888425526174334">
                                                                    <conditions>
                                                                        <condition id="3" name="Compare frame" sid="286651062646968" type="S_What">
                                                                            <param id="0" name="Comparison">0</param>
                                                                            <param id="1" name="Number">2</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="344226398124870" type="S_What">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Value">&quot;rock&quot;</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="966544313005523" type="S_What">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">7</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="383147147408177" type="S_What">
                                                                            <param id="0" name="Instance variable">Price</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="542960775317229" type="S_What">
                                                                            <param id="0" name="Instance variable">Heal</param>
                                                                            <param id="1" name="Value">-10</param>
                                                                        </action>
                                                                        <action id="-13" name="Set boolean" sid="605192189065556" type="S_What">
                                                                            <param id="0" name="Instance variable">edible</param>
                                                                            <param id="1" name="Value">0</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="644673394724009">
                                                                    <conditions>
                                                                        <condition id="3" name="Compare frame" sid="476166872504491" type="S_What">
                                                                            <param id="0" name="Comparison">0</param>
                                                                            <param id="1" name="Number">3</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="763605668092423" type="S_What">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Value">&quot;apple&quot;</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="746281013081644" type="S_What">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">2</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="336543380217603" type="S_What">
                                                                            <param id="0" name="Instance variable">Price</param>
                                                                            <param id="1" name="Value">5</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="536646690073529" type="S_What">
                                                                            <param id="0" name="Instance variable">Heal</param>
                                                                            <param id="1" name="Value">10</param>
                                                                        </action>
                                                                        <action id="-13" name="Set boolean" sid="534126696140801" type="S_What">
                                                                            <param id="0" name="Instance variable">edible</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="389700941055915">
                                                                    <conditions>
                                                                        <condition id="3" name="Compare frame" sid="695277915897994" type="S_What">
                                                                            <param id="0" name="Comparison">0</param>
                                                                            <param id="1" name="Number">4</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="183073646500189" type="S_What">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Value">&quot;potion&quot;</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="722220282661731" type="S_What">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">5</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="981063724551278" type="S_What">
                                                                            <param id="0" name="Instance variable">Price</param>
                                                                            <param id="1" name="Value">15</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="219682350907187" type="S_What">
                                                                            <param id="0" name="Instance variable">Heal</param>
                                                                            <param id="1" name="Value">30</param>
                                                                        </action>
                                                                        <action id="-13" name="Set boolean" sid="346321025349656" type="S_What">
                                                                            <param id="0" name="Instance variable">edible</param>
                                                                            <param id="1" name="Value">1</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                        <event-block sid="450406653514394">
                                                            <conditions>
                                                                <condition id="-22" name="Else" sid="907994113720699" type="System" />
                                                            </conditions>
                                                            <actions>
                                                                <action id="-3" name="Create object" sid="300427150003743" type="System">
                                                                    <param id="0" name="Object to create">S_Whom</param>
                                                                    <param id="1" name="Layer">1</param>
                                                                    <param id="2" name="X">A_Level.CurX*16</param>
                                                                    <param id="3" name="Y">A_Level.CurY*16</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="120602621224676" type="S_Whom">
                                                                    <param id="0" name="Instance variable">Name</param>
                                                                    <param id="1" name="Value">choose(&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;skeleton&quot;,&quot;knight&quot;,&quot;knight&quot;,&quot;merchant&quot;)</param>
                                                                </action>
                                                            </actions>
                                                            <sub-events>
                                                                <event-block sid="421332198068371">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="888015369549673" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">&quot;skeleton&quot;</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="768879316499270" type="S_Whom">
                                                                            <param id="0" name="Instance variable">MaxHP</param>
                                                                            <param id="1" name="Value">floor(random(5,16))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="935467532032011" type="S_Whom">
                                                                            <param id="0" name="Instance variable">CurrentHP</param>
                                                                            <param id="1" name="Value">S_Whom.MaxHP</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="236700412287009" type="S_Whom">
                                                                            <param id="0" name="Instance variable">relation</param>
                                                                            <param id="1" name="Value">floor(random(-5,-1))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="903375247706970" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">floor(random(6,12))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="368484812444614" type="S_Whom">
                                                                            <param id="0" name="Instance variable">exp</param>
                                                                            <param id="1" name="Value">floor((S_Whom.MaxHP*S_Whom.Damage)/10)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="127064286279410" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Money</param>
                                                                            <param id="1" name="Value">floor(random(5,16))</param>
                                                                        </action>
                                                                        <action id="4" name="Set animation" sid="492723214485862" type="S_Whom">
                                                                            <param id="0" name="Animation">&quot;skeletonidle&quot;</param>
                                                                            <param id="1" name="From">1</param>
                                                                        </action>
                                                                        <action id="5" name="Set frame" sid="733119945929751" type="S_Whom">
                                                                            <param id="0" name="Frame number">floor(random(S_Whom.AnimationFrameCount))</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="390164681817562">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="450829372788066" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">&quot;knight&quot;</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="713740066620565" type="S_Whom">
                                                                            <param id="0" name="Instance variable">MaxHP</param>
                                                                            <param id="1" name="Value">floor(random(30,61))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="701897857686171" type="S_Whom">
                                                                            <param id="0" name="Instance variable">CurrentHP</param>
                                                                            <param id="1" name="Value">S_Whom.MaxHP</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="335821313089872" type="S_Whom">
                                                                            <param id="0" name="Instance variable">relation</param>
                                                                            <param id="1" name="Value">floor(random(-1,2))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="454230284102151" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">floor(random(15,26))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="661385016807163" type="S_Whom">
                                                                            <param id="0" name="Instance variable">exp</param>
                                                                            <param id="1" name="Value">floor((S_Whom.MaxHP*S_Whom.Damage)/10)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="864776289484463" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Money</param>
                                                                            <param id="1" name="Value">floor(random(15,31))</param>
                                                                        </action>
                                                                        <action id="4" name="Set animation" sid="252312628714876" type="S_Whom">
                                                                            <param id="0" name="Animation">&quot;knightidle&quot;</param>
                                                                            <param id="1" name="From">1</param>
                                                                        </action>
                                                                        <action id="5" name="Set frame" sid="382940117397365" type="S_Whom">
                                                                            <param id="0" name="Frame number">floor(random(S_Whom.AnimationFrameCount))</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                                <event-block sid="677300428748765">
                                                                    <conditions>
                                                                        <condition id="-7" name="Compare instance variable" sid="610053273580752" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Name</param>
                                                                            <param id="1" name="Comparison">0</param>
                                                                            <param id="2" name="Value">&quot;merchant&quot;</param>
                                                                        </condition>
                                                                    </conditions>
                                                                    <actions>
                                                                        <action id="-10" name="Set value" sid="325385356378543" type="S_Whom">
                                                                            <param id="0" name="Instance variable">MaxHP</param>
                                                                            <param id="1" name="Value">floor(random(3,6))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="610150944037591" type="S_Whom">
                                                                            <param id="0" name="Instance variable">CurrentHP</param>
                                                                            <param id="1" name="Value">S_Whom.MaxHP</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="428332697866974" type="S_Whom">
                                                                            <param id="0" name="Instance variable">relation</param>
                                                                            <param id="1" name="Value">floor(random(0,2))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="917750952116739" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Damage</param>
                                                                            <param id="1" name="Value">floor(random(3,6))</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="461751449934255" type="S_Whom">
                                                                            <param id="0" name="Instance variable">exp</param>
                                                                            <param id="1" name="Value">floor((S_Whom.MaxHP*S_Whom.Damage)/10)</param>
                                                                        </action>
                                                                        <action id="-10" name="Set value" sid="289295373107397" type="S_Whom">
                                                                            <param id="0" name="Instance variable">Money</param>
                                                                            <param id="1" name="Value">floor(random(30,161))</param>
                                                                        </action>
                                                                        <action id="4" name="Set animation" sid="864966203205802" type="S_Whom">
                                                                            <param id="0" name="Animation">&quot;merchantidle&quot;</param>
                                                                            <param id="1" name="From">1</param>
                                                                        </action>
                                                                        <action id="5" name="Set frame" sid="835719201199725" type="S_Whom">
                                                                            <param id="0" name="Frame number">floor(random(S_Whom.AnimationFrameCount))</param>
                                                                        </action>
                                                                    </actions>
                                                                </event-block>
                                                            </sub-events>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="575920794334182">
                                    <conditions>
                                        <condition id="3" name="For each element" sid="947430668993863" type="A_Level">
                                            <param id="0" name="Axes">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <variable constant="0" name="tile" sid="606624338400285" static="0" type="number">0</variable>
                                        <event-block sid="344106837064496">
                                            <conditions>
                                                <condition id="4" name="Compare current value" sid="388351289463660" type="A_Level">
                                                    <param id="0" name="Comparison">0</param>
                                                    <param id="1" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                            <sub-events>
                                                <event-block sid="928054433237017">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="853678991091771" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX+1</param>
                                                            <param id="1" name="Y">A_Level.CurY</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="799328908859390" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Value">5</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="114573230510716">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="626381086365366" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX</param>
                                                            <param id="1" name="Y">A_Level.CurY+1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="309390342139500" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Value">7</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="242804071148510">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="285294946829876" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX-1</param>
                                                            <param id="1" name="Y">A_Level.CurY</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="712743720231396" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Value">11</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="676619410158932">
                                                    <conditions>
                                                        <condition id="1" name="Compare at XY" sid="267080589790556" type="A_Level">
                                                            <param id="0" name="X">A_Level.CurX</param>
                                                            <param id="1" name="Y">A_Level.CurY-1</param>
                                                            <param id="2" name="Comparison">0</param>
                                                            <param id="3" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Add to" sid="190195545670666" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Value">3</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="677477721326796">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="191989188934346" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">3</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="530330231699435" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">1</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="768732458938196">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="634827731329214" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">5</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="322353130910760" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">2</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="461158345187398">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="341697002399881" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">7</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="459440890303277" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">3</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="352258732849312">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="214549902376517" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">11</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="637793872762730" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">4</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="469763481002786">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="963637835501486" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">8</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="464591081000160" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">5</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="311194687071689">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="446708393482966" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">10</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="916324360762802" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">6</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="626879215337216">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="379281471780487" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">14</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="589608498272621" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">7</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="964620980031545">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="856087033876536" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">12</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="856549571213913" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">8</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="570228500479686">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="887014264772220" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">16</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="981072309074029" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">9</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="836009788713044">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="158860188378909" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">18</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="132728459153977" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">10</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="316078336613578">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="870855641022286" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">23</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="308605018666654" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">11</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="210555618874483">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="971228803008648" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">21</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="823366205675782" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">12</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="667764723691849">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="243172051881656" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">19</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="333329498629758" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">13</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="557446638645961">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="720367349016868" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">15</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="690477242421398" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">14</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <event-block sid="505636039891355">
                                                    <conditions>
                                                        <condition id="-14" name="Compare variable" sid="265238455818448" type="System">
                                                            <param id="0" name="Variable">tile</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">26</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="1" name="Set tile" sid="937135352855783" type="TM_LevelWall">
                                                            <param id="0" name="Tile X">A_Level.CurX</param>
                                                            <param id="1" name="Tile Y">A_Level.CurY</param>
                                                            <param id="2" name="Tile">15</param>
                                                            <param id="3" name="State">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="788259761998176" title="Text">
                    <sub-events>
                        <event-block sid="402347284753110">
                            <conditions>
                                <condition id="-6" name="Every X seconds" sid="633238554391062" type="System">
                                    <param id="0" name="Interval (seconds)">0.05</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="883139621065234" type="SF_SpeechText">
                                    <param id="0" name="Instance variable">current</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">&quot;&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="152086999560698" type="SF_SpeechText">
                                    <param id="0" name="Text">left(SF_SpeechText.current,index)</param>
                                </action>
                                <action id="-10" name="Add to" sid="740421681359573" type="System">
                                    <param id="0" name="Variable">index</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="875511816901212">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="383948448803170" type="System">
                                            <param id="0" name="Variable">index</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">len(SF_SpeechText.Text)+100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-15" name="Set visible" sid="693078009876750" type="9P_DialogBack">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="-15" name="Set visible" sid="228157742290064" type="SF_SpeechText">
                                            <param id="0" name="Visibility">0</param>
                                        </action>
                                        <action id="0" name="Set text" sid="477217364423212" type="SF_SpeechText">
                                            <param id="0" name="Text">&quot;&quot;</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="504238129348523" type="SF_SpeechText">
                                            <param id="0" name="Instance variable">current</param>
                                            <param id="1" name="Value">&quot;&quot;</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="470510531071673" type="System">
                                            <param id="0" name="Variable">index</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="931310438606386">
                                            <conditions>
                                                <condition id="-4" name="Trigger once while true" sid="217842137330805" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="928376753879550" type="Function">
                                                    <param id="0" name="Name">&quot;HeroAction&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="210063892391063">
                            <conditions>
                                <condition id="0" name="On function" sid="253175942968518" type="Function">
                                    <param id="0" name="Name">&quot;SetText&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="546420899855869" type="9P_DialogBack">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-15" name="Set visible" sid="874012034985807" type="SF_SpeechText">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="817176965661738" type="SF_SpeechText">
                                    <param id="0" name="Instance variable">current</param>
                                    <param id="1" name="Value">Function.Param(0)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="793917709419893">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="388844175816063" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="368012484878181" type="9P_DialogBack">
                                    <param id="0" name="X">S_Hero.X</param>
                                    <param id="1" name="Y">S_Hero.Y-12</param>
                                </action>
                                <action disabled="1" id="-3" name="Set position" sid="958467765199229" type="SF_SpeechText">
                                    <param id="0" name="X">S_Hero.X+1</param>
                                    <param id="1" name="Y">S_Hero.Y-13</param>
                                </action>
                                <action id="-3" name="Set position" sid="714740302173655" type="SF_SpeechText">
                                    <param id="0" name="X">9P_DialogBack.X</param>
                                    <param id="1" name="Y">9P_DialogBack.Y-2</param>
                                </action>
                                <action id="-7" name="Set size" sid="224442290886897" type="9P_DialogBack">
                                    <param id="0" name="Width">clamp(((len(SF_SpeechText.Text))*5),0,100)</param>
                                    <param id="1" name="Height">ceil(((len(SF_SpeechText.Text))*6)/100)*6+4</param>
                                </action>
                                <action id="-7" name="Set size" sid="355789129343458" type="SF_SpeechText">
                                    <param id="0" name="Width">clamp(((len(SF_SpeechText.Text))*6),0,100)</param>
                                    <param id="1" name="Height">ceil(((len(SF_SpeechText.Text))*6)/100)*6</param>
                                </action>
                                <action id="-24" name="Move to top" sid="278023937247450" type="SF_SpeechText" />
                                <action id="-7" name="Scroll to position" sid="928881941370705" type="System">
                                    <param id="0" name="X">S_Hero.X-75</param>
                                    <param id="1" name="Y">S_Hero.Y-8</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="" sid="330720593836671" title="HeroController">
                    <sub-events>
                        <event-block sid="680726966176607">
                            <conditions>
                                <condition behavior="Pathfinding" id="0" name="On path found" sid="374327569670757" type="S_Hero" />
                            </conditions>
                            <actions>
                                <action behavior="Pathfinding" id="1" name="Move along path" sid="480106212111568" type="S_Hero" />
                            </actions>
                        </event-block>
                        <event-block sid="192761037613865">
                            <conditions>
                                <condition behavior="Pathfinding" id="4" name="Is moving along path" sid="903247268390429" type="S_Hero" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="598817616018965">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="140099113948587" type="S_Hero">
                                            <param id="0" name="Instance variable">CarryOn</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="294484898860692" type="S_Hero">
                                            <param id="0" name="Animation">&quot;CarryOn&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="734597737729112">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="254499314273708" type="S_Hero">
                                            <param id="0" name="Instance variable">CarryOn</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="949903157008716" type="S_Hero">
                                            <param id="0" name="Animation">&quot;run&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="704044535005640">
                                    <conditions>
                                        <condition id="-41" name="Is between angles" sid="285661808142394" type="System">
                                            <param id="0" name="Angle">S_Hero.Pathfinding.MovingAngle</param>
                                            <param id="1" name="First angle">-45</param>
                                            <param id="2" name="Second angle">44</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="266627725638160" type="S_Hero">
                                            <param id="0" name="Instance variable">Direction</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="7" name="Set mirrored" sid="669794596509190" type="S_Hero">
                                            <param id="0" name="State">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="749399742059131">
                                    <conditions>
                                        <condition id="-41" name="Is between angles" sid="191589165383997" type="System">
                                            <param id="0" name="Angle">S_hero.Pathfinding.MovingAngle</param>
                                            <param id="1" name="First angle">45</param>
                                            <param id="2" name="Second angle">134</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="973647083682612" type="S_Hero">
                                            <param id="0" name="Instance variable">Direction</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="411955631785452">
                                    <conditions>
                                        <condition id="-41" name="Is between angles" sid="468017847516954" type="System">
                                            <param id="0" name="Angle">S_hero.Pathfinding.MovingAngle</param>
                                            <param id="1" name="First angle">135</param>
                                            <param id="2" name="Second angle">224</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="477329284045601" type="S_Hero">
                                            <param id="0" name="Instance variable">Direction</param>
                                            <param id="1" name="Value">2</param>
                                        </action>
                                        <action id="7" name="Set mirrored" sid="718109075752849" type="S_Hero">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="256524185173575">
                                    <conditions>
                                        <condition id="-41" name="Is between angles" sid="679155456581853" type="System">
                                            <param id="0" name="Angle">S_hero.Pathfinding.MovingAngle</param>
                                            <param id="1" name="First angle">225</param>
                                            <param id="2" name="Second angle">314</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="759844223236714" type="S_Hero">
                                            <param id="0" name="Instance variable">Direction</param>
                                            <param id="1" name="Value">3</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="164240126001979">
                            <conditions>
                                <condition behavior="Pathfinding" id="4" inverted="1" name="Is moving along path" sid="332161485793178" type="S_Hero" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="408069822431174">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="956973017981078" type="S_Hero">
                                            <param id="0" name="Instance variable">CarryOn</param>
                                            <param id="1" name="Comparison">1</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="267024851099402" type="S_Hero">
                                            <param id="0" name="Animation">&quot;CarryOnIdle&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="977398752060890">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="489511815855495" type="S_Hero">
                                            <param id="0" name="Instance variable">CarryOn</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="370045012650436" type="S_Hero">
                                            <param id="0" name="Animation">&quot;idle&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="865272131693371">
                            <conditions>
                                <condition id="0" name="On function" sid="449769201715864" type="Function">
                                    <param id="0" name="Name">&quot;HeroAction&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="483260479787185" type="S_Hero">
                                    <param id="0" name="Instance variable">CarryOn</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-12" name="Set group active" sid="247856989629372" type="System">
                                    <param id="0" name="Group name">&quot;CarryOn&quot;</param>
                                    <param id="1" name="State">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="677585600215887">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="897850237051076" type="S_What">
                                            <param id="0" name="Unique ID">A_QueryActions.At(3)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="318000265902860" type="S_Hero">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Value">&quot;MoveToWhat&quot;</param>
                                        </action>
                                        <action behavior="Pathfinding" id="0" name="Find path" sid="829191772342629" type="S_Hero">
                                            <param id="0" name="X">S_What.X</param>
                                            <param id="1" name="Y">S_What.Y</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="456954883226141">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="625237057778232" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Pathfinding" id="7" name="Set max speed" sid="665147342939367" type="S_Hero">
                                            <param id="0" name="Speed">24</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="622585331916402">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="415271234965727" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;quickly&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Pathfinding" id="7" name="Set max speed" sid="983573564444718" type="S_Hero">
                                                    <param id="0" name="Speed">64</param>
                                                </action>
                                                <action id="6" name="Set speed" sid="530827016075147" type="S_Hero">
                                                    <param id="0" name="Speed">30</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="307076725744600">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="637866336217209" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;stealthily&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Pathfinding" id="7" name="Set max speed" sid="546196606262756" type="S_Hero">
                                                    <param id="0" name="Speed">12</param>
                                                </action>
                                                <action id="6" name="Set speed" sid="660603781668040" type="S_Hero">
                                                    <param id="0" name="Speed">5</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="584468928264058">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="160004048226407" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;brutally&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                        <event-block sid="962673044203738">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="632181994246870" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;wisely&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                        <event-block sid="224518337267684">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="780055328902046" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;magically&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Create object" sid="387745411950844" type="System">
                                                    <param id="0" name="Object to create">P_Magic</param>
                                                    <param id="1" name="Layer">1</param>
                                                    <param id="2" name="X">S_What.X</param>
                                                    <param id="3" name="Y">S_What.Y</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="531051932790690">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="375311005950595" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;carefully&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                        <event-block sid="481503061205111">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="811658483586021" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;with charm&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                        <event-block sid="269454370168663">
                                            <conditions>
                                                <condition id="0" name="Compare at X" sid="777087272633730" type="A_QueryActions">
                                                    <param id="0" name="X">4</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;loudly&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions />
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="391418784426390">
                            <conditions>
                                <condition behavior="Pathfinding" id="5" name="On arrived" sid="457786514908689" type="S_Hero" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="997051054055659">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="841870029465657" type="S_Hero">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;MoveToWhom&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="383976448898666">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="808372852992693" type="S_Whom">
                                                    <param id="0" name="Unique ID">A_QueryActions.At(2)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="965713297008873" type="Function">
                                                    <param id="0" name="Name">&quot;InteractWithSomeone&quot;</param>
                                                    <param id="1" name="Parameter {n}">S_Whom.UID</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="871500467877051">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="287974822698763" type="S_Hero">
                                            <param id="0" name="Instance variable">State</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;MoveToWhat&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="577205543738025">
                                            <conditions>
                                                <condition id="-14" name="Pick by unique ID" sid="362320223172171" type="S_What">
                                                    <param id="0" name="Unique ID">A_QueryActions.At(3)</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="814864276098603" type="Function">
                                                    <param id="0" name="Name">&quot;PickUpObject&quot;</param>
                                                    <param id="1" name="Parameter {n}">S_What.UID</param>
                                                </action>
                                            </actions>
                                            <sub-events>
                                                <event-block sid="680578410096291">
                                                    <conditions>
                                                        <condition id="0" name="Compare at X" sid="585549750350296" type="A_QueryActions">
                                                            <param id="0" name="X">4</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">&quot;with force&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="875805538706379">
                                                            <conditions>
                                                                <condition id="-14" name="Pick by unique ID" sid="954275269330961" type="S_Whom">
                                                                    <param id="0" name="Unique ID">A_QueryActions.At(2)</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action id="-16" name="Wait" sid="930252132447033" type="System">
                                                                    <param id="0" name="Seconds">1</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="181106466827855" type="S_Hero">
                                                                    <param id="0" name="Instance variable">CarryOn</param>
                                                                    <param id="1" name="Value">0</param>
                                                                </action>
                                                                <action id="-12" name="Set group active" sid="447658593788972" type="System">
                                                                    <param id="0" name="Group name">&quot;CarryOn&quot;</param>
                                                                    <param id="1" name="State">0</param>
                                                                </action>
                                                                <action behavior="Bullet" id="5" name="Set enabled" sid="970057925602272" type="S_What">
                                                                    <param id="0" name="State">1</param>
                                                                </action>
                                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="226194083840536" type="S_What">
                                                                    <param id="0" name="Angle">angle(S_What.X,S_What.Y,S_Whom.X,S_Whom.Y)</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <event-block sid="847360658077047">
                                                    <conditions>
                                                        <condition id="-22" name="Else" sid="828229118073367" type="System" />
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <event-block sid="964362773205885">
                                                            <conditions>
                                                                <condition id="-14" name="Pick by unique ID" sid="576937899054758" type="S_Whom">
                                                                    <param id="0" name="Unique ID">A_QueryActions.At(2)</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action behavior="Pathfinding" id="0" name="Find path" sid="484553825555378" type="S_Hero">
                                                                    <param id="0" name="X">S_WHOM.X</param>
                                                                    <param id="1" name="Y">S_WHOM.Y</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="575254864198703" type="S_Hero">
                                                                    <param id="0" name="Instance variable">State</param>
                                                                    <param id="1" name="Value">&quot;MoveToWhom&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-block sid="650768481731336">
            <conditions>
                <condition id="0" name="On function" sid="998768400588182" type="Function">
                    <param id="0" name="Name">&quot;PickUpObject&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="137173735961034" type="S_Hero">
                    <param id="0" name="Instance variable">CarryOn</param>
                    <param id="1" name="Value">Function.Param(0)</param>
                </action>
                <action id="-12" name="Set group active" sid="384021503245918" type="System">
                    <param id="0" name="Group name">&quot;CarryOn&quot;</param>
                    <param id="1" name="State">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="165790446851625">
            <conditions>
                <condition id="0" name="On function" sid="459892239136964" type="Function">
                    <param id="0" name="Name">&quot;InteractWithSomeone&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="259550651829107" type="S_Hero">
                    <param id="0" name="Instance variable">CarryOn</param>
                    <param id="1" name="Value">0</param>
                </action>
                <action id="-12" name="Set group active" sid="529699854372705" type="System">
                    <param id="0" name="Group name">&quot;CarryOn&quot;</param>
                    <param id="1" name="State">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="114241788573082">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="522235388319909" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="506174442252132">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="150935574375587" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;fight with&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="898171739730734" type="Function">
                                    <param id="0" name="Name">&quot;fight with&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="568104533186815">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="139788777920375" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;cast spell on&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="698587225218789" type="Function">
                                    <param id="0" name="Name">&quot;cast spell on&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="978524954783629">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="907376036821439" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;to feed&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="339126989991549" type="Function">
                                    <param id="0" name="Name">&quot;to feed&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="277397886724808">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="254808842740396" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;trade with&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="813916619733724" type="Function">
                                    <param id="0" name="Name">&quot;trade with&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="135758114176844">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="799896454561040" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;argue with&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="930532197648916" type="Function">
                                    <param id="0" name="Name">&quot;argue with&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="807970326596621">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="166339885160165" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;pickpocket from&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="706472108261855" type="Function">
                                    <param id="0" name="Name">&quot;pickpocket from&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="783354480887977">
                            <conditions>
                                <condition id="0" name="Compare at X" sid="482082909077954" type="A_QueryActions">
                                    <param id="0" name="X">1</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;hug&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="295859758297114" type="Function">
                                    <param id="0" name="Name">&quot;hug&quot;</param>
                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2){###}A_QueryActions.At(3)</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="550199630521759">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="153268999404563" type="S_What">
                                    <param id="0" name="Unique ID">A_QueryActions.At(3)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="966195300122152" type="S_What" />
                            </actions>
                            <sub-events>
                                <event-block disabled="1" sid="310911429766510">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="967860799968849" type="S_Idea">
                                            <param id="0" name="Instance variable">UIDOnMap</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">S_What.UID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="451511638079818" type="Function">
                                            <param id="0" name="Name">&quot;DestroyIdeas&quot;</param>
                                            <param id="1" name="Parameter {n}">S_Idea.UID</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="839063109186663">
                    <conditions>
                        <condition id="-4" name="Trigger once while true" sid="956131239847602" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="619275226430706" type="Function">
                            <param id="0" name="Name">&quot;CheckSpawnIdea&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="782292639824554">
            <conditions>
                <condition id="-1" name="Every tick" sid="794329444426843" type="System" />
            </conditions>
            <actions>
                <action id="-4" name="Set position to another object" sid="425412523823518" type="P_Magic">
                    <param id="0" name="Object">S_What</param>
                    <param id="1" name="Image point (optional)">0</param>
                </action>
                <action id="0" name="Set text" sid="832526855191863" type="SF_LVL">
                    <param id="0" name="Text">&quot;lvl&quot;&amp;S_Hero.Level&amp;&quot;(&quot;&amp;floor(S_Hero.currentXP)&amp;&quot;/&quot;&amp;floor(S_Hero.NewLevelExp)&amp;&quot;)&quot;</param>
                </action>
                <action id="0" name="Set text" sid="140565487686826" type="SF_GOLD">
                    <param id="0" name="Text">&quot;gold:&quot;&amp;floor(S_Hero.money)</param>
                </action>
                <action id="0" name="Set text" sid="381353400020659" type="SF_HP">
                    <param id="0" name="Text">&quot;health:&quot;&amp;floor(S_Hero.currentHP)</param>
                </action>
                <action id="0" name="Set text" sid="924063817985010" type="SF_DAMAGE">
                    <param id="0" name="Text">&quot;damage:&quot;&amp;floor(S_Hero.damage)</param>
                </action>
                <action id="-10" name="Set value" sid="991523386077527" type="S_Hero">
                    <param id="0" name="Instance variable">NewLevelExp</param>
                    <param id="1" name="Value">floor(S_Hero.level*10*0.8)</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="639132641259960">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="319019094811564" type="S_Hero">
                            <param id="0" name="Instance variable">currentXP</param>
                            <param id="1" name="Comparison">5</param>
                            <param id="2" name="Value">S_Hero.NewLevelExp</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="442835993892138" type="S_Hero">
                            <param id="0" name="Instance variable">currentXP</param>
                            <param id="1" name="Value">S_Hero.currentXP-S_Hero.NewLevelExp</param>
                        </action>
                        <action id="-11" name="Add to" sid="605844376681712" type="S_Hero">
                            <param id="0" name="Instance variable">Level</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-10" name="Set value" sid="756758297788185" type="S_Hero">
                            <param id="0" name="Instance variable">NewLevelExp</param>
                            <param id="1" name="Value">floor(S_Hero.level*10*0.8)</param>
                        </action>
                        <action id="-10" name="Set value" sid="996231347646770" type="S_Hero">
                            <param id="0" name="Instance variable">Damage</param>
                            <param id="1" name="Value">floor(S_Hero.Level*1.2)+4</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" inactive="1" sid="328759761492248" title="CarryOn">
            <sub-events>
                <event-block sid="432450430417973">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="288636421543014" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="966333613759652">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="123613952359535" type="S_What">
                                    <param id="0" name="Unique ID">S_Hero.CarryOn</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="375127509606142" type="S_What">
                                    <param id="0" name="Object">S_Hero</param>
                                    <param id="1" name="Image point (optional)">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="871434269701683">
            <conditions>
                <condition id="0" name="On function" sid="108128809626455" type="Function">
                    <param id="0" name="Name">&quot;to feed&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalHeal" sid="299748583181804" static="0" type="number">0</variable>
                <variable constant="0" name="FinalRelation" sid="209917499345863" static="0" type="number">0</variable>
                <variable constant="0" name="FinalDealDamage" sid="720511699142519" static="0" type="number">0</variable>
                <event-block sid="841480681199550">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="142122744873497" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="855496560188828">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="553215716484939" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="748349577180238" type="System">
                                    <param id="0" name="Variable">FinalHeal</param>
                                    <param id="1" name="Value">S_What.Heal</param>
                                </action>
                                <action id="-9" name="Set value" sid="427519117164627" type="System">
                                    <param id="0" name="Variable">FinalDealDamage</param>
                                    <param id="1" name="Value">S_What.Damage</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="328152341201702">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="847349464301441" type="S_What">
                                            <param id="0" name="Instance variable">edible</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="465001443128924" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="920256930365601">
                                    <conditions>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="543538046557116" type="S_What">
                                            <param id="0" name="Instance variable">edible</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="351459429484394" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">-2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="149726759326605">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="734590559987911" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="236314707562504" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="344158843470198" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="723175267556566" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="439558354485197">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="365154476043468" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="501769767948939" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="405102965103420">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="311090621125997" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="672472245675919" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="134116327104447" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="732085832302445" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="357725162889605" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="124086417885727" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="783358847865206" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="585947761588992">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="957305187334282" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="693517235978166" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="934909917001775" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="853077673515716" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="811208258002992">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="558159959512067" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="903839834967263" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="232273126951439">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="867062021143565" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="465130546321956" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="490536968703708" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; heal &quot;&amp;floor(FinalHeal)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="278515493067446" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-16</param>
                                        </action>
                                        <action id="0" name="Set text" sid="153881708833943" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="796714696096712" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-24</param>
                                        </action>
                                        <action id="0" name="Set text" sid="521846510049140" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; take &quot;&amp;floor(FinalDealDamage)&amp;&quot; damage &quot;</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="225316664439294" type="S_Whom">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalHeal</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="397295360840643" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="755314343199106" type="S_Whom">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalDealDamage</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="836551638885329" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="368820927537767" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="391761156042509" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="167271767102251">
            <conditions>
                <condition id="0" name="On function" sid="715329743130500" type="Function">
                    <param id="0" name="Name">&quot;fight with&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalDealDamage" sid="647418645262887" static="0" type="number">0</variable>
                <variable constant="0" name="FinalTakeDamage" sid="203834114296058" static="0" type="number">0</variable>
                <variable constant="0" name="FinalRelation" sid="107117733876334" static="0" type="number">0</variable>
                <event-block sid="620691814160158">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="752231261070747" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="113703394091926">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="536740987283839" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="672976076605407" type="System">
                                    <param id="0" name="Variable">FinalDealDamage</param>
                                    <param id="1" name="Value">S_What.Damage+S_Hero.Damage</param>
                                </action>
                                <action id="-9" name="Set value" sid="840917186222603" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">-3</param>
                                </action>
                                <action id="-9" name="Set value" sid="710482705797505" type="System">
                                    <param id="0" name="Variable">FinalTakeDamage</param>
                                    <param id="1" name="Value">S_Whom.Damage</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="145991258619002">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="550030022710994" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="501902402195152" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="228652980286785" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="711954182078708" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="983695564471243">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="873221931379564" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="347693915149647" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="577763801609014">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="457738056348023" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="219158153648690" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="554512957874932" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="370693453681539" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="960096013962511" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="386867098624478" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="786098790190092" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="410350480843484">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="369458540471276" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="682041142978186" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="136350731586849" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="470074975027036">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="977678073269826" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="318640992838931" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="954077488679780" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="831936622587701" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="712402291065545">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="129469692290651" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;stealthily&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="489376759056860" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*random(1,3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="377206728945786" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="507451961017509">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="919218245524730" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="262937516085270" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="201976617479591" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; take &quot;&amp;floor(FinalDealDamage)&amp;&quot; damage &quot;</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="251390362517977" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-16</param>
                                        </action>
                                        <action id="0" name="Set text" sid="227994728795720" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="684947257417999" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-24</param>
                                        </action>
                                        <action id="0" name="Set text" sid="262656584443593" type="SF_InteractSummury">
                                            <param id="0" name="Text">&quot;hero take &quot;&amp;floor(Finaltakedamage)&amp;&quot; damage&quot;</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="396287625360793" type="S_Whom">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalDealDamage</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="518793970045820" type="S_Hero">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalTakeDamage</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="458919860869108" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="761917791008188" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="826331874702972" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="236590604790938" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="772344667398628">
            <conditions>
                <condition id="0" name="On function" sid="416658698683639" type="Function">
                    <param id="0" name="Name">&quot;cast spell on&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalHeal" sid="267607935100881" static="0" type="number">0</variable>
                <variable constant="0" name="FinalDealDamage" sid="349731097678463" static="0" type="number">0</variable>
                <variable constant="0" name="FinalTakeDamage" sid="780107293218611" static="0" type="number">0</variable>
                <variable constant="0" name="FinalRelation" sid="294863626848244" static="0" type="number">0</variable>
                <event-block sid="241497668208331">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="220245628414454" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="888127312983463">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="210406065313440" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="337492303882258" type="System">
                                    <param id="0" name="Variable">FinalHeal</param>
                                    <param id="1" name="Value">S_What.Heal*random(3)</param>
                                </action>
                                <action id="-9" name="Set value" sid="621973092870214" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">random(3)</param>
                                </action>
                                <action id="-9" name="Set value" sid="645076034829625" type="System">
                                    <param id="0" name="Variable">FinalDealDamage</param>
                                    <param id="1" name="Value">S_What.Damage*random(3)</param>
                                </action>
                                <action id="-9" name="Set value" sid="636714447466599" type="System">
                                    <param id="0" name="Variable">FinalTakeDamage</param>
                                    <param id="1" name="Value">S_Whom.Damage*random(3)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="912986316944773">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="759379557576273" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="211176173713569" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="614300931931612" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="813327822341595" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="400906817087358" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="652546845596970">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="127327892396904" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="526024047308532" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="363163406389517" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="619399172088456">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="467467926696679" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="155014134504331" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="674869449313424" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="253495090446484" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="214263689567167" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*random(3)</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="860015481384781">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="777380418021854" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="343853901216296" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="341182362085487">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="276762159114714" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;stealthily&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="508922853592978" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*random(1,3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="561327297678383" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="235547565379294">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="885819503139455" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="443035037214857" type="System">
                                            <param id="0" name="Variable">FinalHeal</param>
                                            <param id="1" name="Value">FinalHeal*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="248646411265559" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="437677588302956" type="System">
                                            <param id="0" name="Variable">FinalDealDamage</param>
                                            <param id="1" name="Value">FinalDealDamage*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="474418898108801" type="System">
                                            <param id="0" name="Variable">FinalTakeDamage</param>
                                            <param id="1" name="Value">FinalTakeDamage*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="449166124832319">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="272823239866874" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="358800294368020" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="468415579943154" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="340036711611855" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; heal &quot;&amp;floor(FinalHeal)</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="713145621166962" type="P_Magic" />
                                        <action id="-3" name="Create object" sid="627800590055121" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-16</param>
                                        </action>
                                        <action id="0" name="Set text" sid="345235711151401" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; take &quot;&amp;floor(FinalDealDamage)&amp;&quot; damage &quot;</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="958290357790196" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-24</param>
                                        </action>
                                        <action id="0" name="Set text" sid="772666231519874" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="189287962569898" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-32</param>
                                        </action>
                                        <action id="0" name="Set text" sid="891457820867150" type="SF_InteractSummury">
                                            <param id="0" name="Text">&quot;hero take &quot;&amp;floor(Finaltakedamage)&amp;&quot; damage&quot;</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="294947407040352" type="S_Whom">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalHeal</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="491705070530079" type="S_Whom">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalDealDamage</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="446524226436038" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="661048987799095" type="S_Hero">
                                            <param id="0" name="Instance variable">CurrentHP</param>
                                            <param id="1" name="Value">FinalTakeDamage</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="309015961213917" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="953250240592680" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="650179920400850" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="839251263479423">
            <conditions>
                <condition id="0" name="On function" sid="683332008149516" type="Function">
                    <param id="0" name="Name">&quot;trade with&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalPrice" sid="870923460908468" static="0" type="number">0</variable>
                <variable constant="0" name="FinalRelation" sid="899424274354901" static="0" type="number">0</variable>
                <event-block sid="982769951507679">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="707166951399498" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="314252307417581">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="672975496616275" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="369224532473777" type="System">
                                    <param id="0" name="Variable">FinalPrice</param>
                                    <param id="1" name="Value">S_What.Price</param>
                                </action>
                                <action id="-9" name="Set value" sid="632041138242025" type="System">
                                    <param id="0" name="Variable">FinalPrice</param>
                                    <param id="1" name="Value">clamp(FinalPrice*((S_whom.relation/10)+1),1,9999)</param>
                                </action>
                                <action id="-9" name="Set value" sid="604545260193032" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="342658161869044">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="866716916891192" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="355488294441371" type="System">
                                            <param id="0" name="Variable">FinalPrice</param>
                                            <param id="1" name="Value">FinalPrice*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="747075535469390" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">-1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="678794327714692">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="160558378612235" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="182074280396096" type="System">
                                            <param id="0" name="Variable">FinalPrice</param>
                                            <param id="1" name="Value">FinalPrice*1.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="658648237386468" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="432227241450458">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="569586099478298" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="900298423446665" type="System">
                                            <param id="0" name="Variable">FinalPrice</param>
                                            <param id="1" name="Value">FinalPrice*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="570302949635906" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="680314015222418" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="678862585001217" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="614769505138048" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="703860074663057">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="206381379727656" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="501489467104050" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="908566115503213">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="453219756623912" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="215149764719757" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="920848596235255" type="System">
                                            <param id="0" name="Variable">FinalPrice</param>
                                            <param id="1" name="Value">FinalPrice*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="412180606220150">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="254473923309352" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;loudly&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="650247047416572" type="System">
                                            <param id="0" name="Variable">FinalPrice</param>
                                            <param id="1" name="Value">FinalPrice*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="409406090256981">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="733549822272134" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="852686475409441" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="980537682353240" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="895655699092488" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-16</param>
                                        </action>
                                        <action id="0" name="Set text" sid="139709706051483" type="SF_InteractSummury">
                                            <param id="0" name="Text">&quot;hero trade &quot;&amp;floor(clamp(FinalPrice,0,S_Whom.Money))</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="297211965811653" type="S_Hero">
                                            <param id="0" name="Instance variable">Money</param>
                                            <param id="1" name="Value">clamp(FinalPrice,0,S_Whom.Money)</param>
                                        </action>
                                        <action id="-12" name="Subtract from" sid="254765729217908" type="S_Whom">
                                            <param id="0" name="Instance variable">Money</param>
                                            <param id="1" name="Value">clamp(FinalPrice,0,S_Whom.Money)</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="271466657078939" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="835043056771600" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="580491488782120" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="252950324681543" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="766161364514154">
            <conditions>
                <condition id="0" name="On function" sid="835036198780711" type="Function">
                    <param id="0" name="Name">&quot;argue with&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalRelation" sid="313981315287427" static="0" type="number">0</variable>
                <event-block sid="861857779469061">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="621349655917177" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="622681876522470">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="220508441291734" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="132442825128874" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">-1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="474175513655420">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="195905607499015" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="778279958682376" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="785066640103882">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="625231288888155" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="943518862654517" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="604562320892663">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="915695323658493" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="646970359910145" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="853455149714372" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="727965166149712" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="703943798057947" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="483715420485147">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="191375287483736" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="157433456443714" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="923964437454019">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="495123258344848" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="112110654938382" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="815675842337032">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="679936839762820" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;loudly&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="563492580312870" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation-2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="802697683411240">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="321345179115620" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="196926720362272" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="210535845268166" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="814174169958785" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="987653673144522" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="129889283708266" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="949052805363572" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="191860197991660">
            <conditions>
                <condition id="0" name="On function" sid="414367403599920" type="Function">
                    <param id="0" name="Name">&quot;pickpocket from&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalSteal" sid="394356846456798" static="0" type="number">0</variable>
                <variable constant="0" name="FinalRelation" sid="246694208340425" static="0" type="number">0</variable>
                <variable constant="0" name="FinalChance" sid="633630316317311" static="0" type="number">0</variable>
                <event-block sid="723513200587543">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="624923514653999" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="294018947312918">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="843929274534136" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="900119025208943" type="System">
                                    <param id="0" name="Variable">FinalSteal</param>
                                    <param id="1" name="Value">random(S_Whom.Money)</param>
                                </action>
                                <action id="-9" name="Set value" sid="862797114093702" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">-2</param>
                                </action>
                                <action id="-9" name="Set value" sid="161803890880831" type="System">
                                    <param id="0" name="Variable">FinalChance</param>
                                    <param id="1" name="Value">0.25</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="931652662713517">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="327590469424093" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="118424639974105" type="System">
                                            <param id="0" name="Variable">FinalSteal</param>
                                            <param id="1" name="Value">FinalSteal*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="992252171236830" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="948961800469690" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">FinalChance*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="586616287864305">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="893128807710625" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;wisely&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="482604547357526" type="System">
                                            <param id="0" name="Variable">FinalSteal</param>
                                            <param id="1" name="Value">FinalSteal*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="249044393583975" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">FinalChance+0.25</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="169203360167006">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="612123576284241" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="518669445417344" type="System">
                                            <param id="0" name="Variable">FinalSteal</param>
                                            <param id="1" name="Value">FinalSteal*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="534594043451148" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="869179189863292" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">FinalChance*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="105357435638804" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="686196463454639" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="988483539922971" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="196671329108828">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="457145002821956" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="852994951195868" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="957842031100035">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="367526610358169" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;stealthily&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="431320160052247" type="System">
                                            <param id="0" name="Variable">FinalSteal</param>
                                            <param id="1" name="Value">FinalSteal*2</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="801231218365902" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="144951788339673" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">FinalChance*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="687523005920522">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="504516151388526" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="916787528194206" type="System">
                                            <param id="0" name="Variable">FinalSteal</param>
                                            <param id="1" name="Value">FinalSteal*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="980346670784582" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="627507246575798" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">FinalChance*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="353477070844884">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="704143368078041" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;loudly&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="800430273240269" type="System">
                                            <param id="0" name="Variable">FinalChance</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="104752662155174">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="396055161108388" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="921139391680517">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="535366893263980" type="System">
                                                    <param id="0" name="First value">random(1)</param>
                                                    <param id="1" name="Comparison">3</param>
                                                    <param id="2" name="Second value">FinalChance</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Create object" sid="999000198258914" type="System">
                                                    <param id="0" name="Object to create">SF_InteractSummury</param>
                                                    <param id="1" name="Layer">2</param>
                                                    <param id="2" name="X">S_Hero.X</param>
                                                    <param id="3" name="Y">S_Hero.y-8</param>
                                                </action>
                                                <action id="0" name="Set text" sid="622136679208297" type="SF_InteractSummury">
                                                    <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                                </action>
                                                <action id="-3" name="Create object" sid="449940251195898" type="System">
                                                    <param id="0" name="Object to create">SF_InteractSummury</param>
                                                    <param id="1" name="Layer">2</param>
                                                    <param id="2" name="X">S_Hero.X</param>
                                                    <param id="3" name="Y">S_Hero.y-16</param>
                                                </action>
                                                <action id="0" name="Set text" sid="983069052548884" type="SF_InteractSummury">
                                                    <param id="0" name="Text">&quot;hero steal &quot;&amp;floor(clamp(FinalSteal,0,S_Whom.Money))</param>
                                                </action>
                                                <action id="-11" name="Add to" sid="474483440037847" type="S_Hero">
                                                    <param id="0" name="Instance variable">Money</param>
                                                    <param id="1" name="Value">clamp(FinalSteal,0,S_Whom.Money)</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="984498582762742" type="S_Whom">
                                                    <param id="0" name="Instance variable">Money</param>
                                                    <param id="1" name="Value">clamp(FinalSteal,0,S_Whom.Money)</param>
                                                </action>
                                                <action id="-11" name="Add to" sid="877647488495795" type="S_Whom">
                                                    <param id="0" name="Instance variable">relation</param>
                                                    <param id="1" name="Value">FinalRelation</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="475711928497006" type="S_Whom">
                                                    <param id="0" name="Instance variable">inPuzzle</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                                <action id="0" name="Call function" sid="103376867993584" type="Function">
                                                    <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="0" name="Call function" sid="522280543969126" type="Function">
                                                    <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="288801967437291">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="622192516242178" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-3" name="Create object" sid="571788860598327" type="System">
                                                    <param id="0" name="Object to create">SF_InteractSummury</param>
                                                    <param id="1" name="Layer">2</param>
                                                    <param id="2" name="X">S_Hero.X</param>
                                                    <param id="3" name="Y">S_Hero.y-8</param>
                                                </action>
                                                <action id="0" name="Set text" sid="693887762500639" type="SF_InteractSummury">
                                                    <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                                </action>
                                                <action id="-11" name="Add to" sid="364124408816436" type="S_Whom">
                                                    <param id="0" name="Instance variable">relation</param>
                                                    <param id="1" name="Value">FinalRelation</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="884226781089505" type="S_Whom">
                                                    <param id="0" name="Instance variable">inPuzzle</param>
                                                    <param id="1" name="Value">0</param>
                                                </action>
                                                <action id="0" name="Call function" sid="594367312371055" type="Function">
                                                    <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                                <action id="0" name="Call function" sid="758282096654219" type="Function">
                                                    <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                                    <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="415155565391971">
            <conditions>
                <condition id="0" name="On function" sid="517051771363544" type="Function">
                    <param id="0" name="Name">&quot;hug&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <variable constant="0" name="FinalRelation" sid="172201570493347" static="0" type="number">0</variable>
                <event-block sid="801827340577687">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="244101686732546" type="S_Whom">
                            <param id="0" name="Unique ID">Function.Param(0)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="168251031716021">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="609972159620626" type="S_What">
                                    <param id="0" name="Unique ID">Function.Param(1)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="846742115106459" type="System">
                                    <param id="0" name="Variable">FinalRelation</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="450123022152571">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="924054932103654" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;brutally&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="338146673183347" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="127401221859476">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="663604780491283" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;magically&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="194729677716867" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*random(3)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="166427590656464" type="System">
                                            <param id="0" name="Object to create">P_Magic</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Whom.X</param>
                                            <param id="3" name="Y">S_Whom.Y-16</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="637204822946575" type="System">
                                            <param id="0" name="Seconds">0.5</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="710176662940633" type="P_Magic" />
                                    </actions>
                                </event-block>
                                <event-block sid="484076579471491">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="300528685250634" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;with charm&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="205714837220098" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation+2</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="860838138316552">
                                    <conditions>
                                        <condition id="0" name="Compare at X" sid="284709206222661" type="A_QueryActions">
                                            <param id="0" name="X">4</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;carefully&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="127714401367103" type="System">
                                            <param id="0" name="Variable">FinalRelation</param>
                                            <param id="1" name="Value">FinalRelation*0.5</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="812197970985659">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="387191887302390" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="429811752536684" type="System">
                                            <param id="0" name="Object to create">SF_InteractSummury</param>
                                            <param id="1" name="Layer">2</param>
                                            <param id="2" name="X">S_Hero.X</param>
                                            <param id="3" name="Y">S_Hero.y-8</param>
                                        </action>
                                        <action id="0" name="Set text" sid="492539142024606" type="SF_InteractSummury">
                                            <param id="0" name="Text">S_Whom.Name&amp;&quot; relation &quot;&amp;floor(FinalRelation)</param>
                                        </action>
                                        <action id="-11" name="Add to" sid="311583013950611" type="S_Whom">
                                            <param id="0" name="Instance variable">relation</param>
                                            <param id="1" name="Value">FinalRelation</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="631523604373268" type="S_Whom">
                                            <param id="0" name="Instance variable">inPuzzle</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Call function" sid="536376446096378" type="Function">
                                            <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="0" name="Call function" sid="113207259310199" type="Function">
                                            <param id="0" name="Name">&quot;CheckWhomDeath&quot;</param>
                                            <param id="1" name="Parameter {n}">A_QueryActions.At(2)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="759268048733962">
            <conditions>
                <condition id="0" name="On function" sid="298384701372262" type="Function">
                    <param id="0" name="Name">&quot;CheckHeroDeath&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="169067517292666">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="867154013950327" type="S_Hero">
                            <param id="0" name="Instance variable">CurrentHP</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="773513294415979" type="S_Hero" />
                        <action id="0" name="Set text" sid="284772938975396" type="SF_StaticText">
                            <param id="0" name="Text">&quot;hero&quot;</param>
                        </action>
                        <action id="-3" name="Set position" sid="921022812490336" type="T_DEAD">
                            <param id="0" name="X">0</param>
                            <param id="1" name="Y">0</param>
                        </action>
                        <action id="-24" name="Move to top" sid="272593973957310" type="T_DEAD" />
                        <action id="-16" name="Wait" sid="751151598125116" type="System">
                            <param id="0" name="Seconds">5</param>
                        </action>
                        <action id="-2" name="Go to layout" sid="225752741549108" type="System">
                            <param id="0" name="Layout">Layout 1</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="729933095531052">
            <conditions>
                <condition id="-7" name="Compare instance variable" sid="137722799059649" type="S_Whom">
                    <param id="0" name="Instance variable">CurrentHP</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-11" name="Add to" sid="521441260186763" type="S_Hero">
                    <param id="0" name="Instance variable">Money</param>
                    <param id="1" name="Value">S_Whom.Money</param>
                </action>
                <action id="-11" name="Add to" sid="363485899363657" type="S_Hero">
                    <param id="0" name="Instance variable">currentXP</param>
                    <param id="1" name="Value">S_Whom.exp</param>
                </action>
                <action id="-9" name="Destroy" sid="571134192811231" type="S_Whom" />
            </actions>
            <sub-events>
                <event-block sid="666860765918718">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="155289229814018" type="S_Idea">
                            <param id="0" name="Instance variable">UIDOnMap</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">S_Whom.UID</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="214703155608309" type="Function">
                            <param id="0" name="Name">&quot;DestroyIdeas&quot;</param>
                            <param id="1" name="Parameter {n}">S_Idea.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="747002939622398">
            <conditions>
                <condition id="7" name="Cursor is over object" sid="904704904038077" type="Mouse">
                    <param id="0" name="Object">S_Idea</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="457455635000263" type="SF_StaticText">
                    <param id="0" name="Text">S_Idea.Name</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="715926342513670">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="297757623742841" type="S_Idea">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">2</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="555541402717776">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="609160456763655" type="S_What">
                                    <param id="0" name="Unique ID">S_Idea.UIDOnMap</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="483115889633687">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="318012093661971" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Flash" id="0" name="Flash" sid="997066975038090" type="S_What">
                                            <param id="0" name="&apos;On&apos; time">0.2</param>
                                            <param id="1" name="&apos;Off&apos; time">0.2</param>
                                            <param id="2" name="Duration">999</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="250528275403838">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="575943763050536" type="S_Idea">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">3</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="749932722396136">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="526579256246787" type="S_Whom">
                                    <param id="0" name="Unique ID">S_Idea.UIDOnMap</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="491381255691791">
                                    <conditions>
                                        <condition id="-4" name="Trigger once while true" sid="509358685474686" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Flash" id="0" name="Flash" sid="849202828174629" type="S_Whom">
                                            <param id="0" name="&apos;On&apos; time">0.2</param>
                                            <param id="1" name="&apos;Off&apos; time">0.2</param>
                                            <param id="2" name="Duration">999</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="475836510246280">
            <conditions>
                <condition id="7" name="Cursor is over object" sid="460279009266910" type="Mouse">
                    <param id="0" name="Object">S_What</param>
                </condition>
                <condition id="7" inverted="1" name="Cursor is over object" sid="994619609098250" type="Mouse">
                    <param id="0" name="Object">T_Grid</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="421067090014037" type="SF_StaticText">
                    <param id="0" name="Text">S_What.Name</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="857490503319393">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="804778860107959" type="S_Idea">
                            <param id="0" name="Instance variable">UIDOnMap</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">S_What.UID</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="387807474477810">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="970347864720843" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Flash" id="0" name="Flash" sid="631301548549269" type="S_Idea">
                                    <param id="0" name="&apos;On&apos; time">0.2</param>
                                    <param id="1" name="&apos;Off&apos; time">0.2</param>
                                    <param id="2" name="Duration">999</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="213393895260256">
            <conditions>
                <condition id="7" name="Cursor is over object" sid="328166088378518" type="Mouse">
                    <param id="0" name="Object">S_Whom</param>
                </condition>
                <condition id="7" inverted="1" name="Cursor is over object" sid="452354439257559" type="Mouse">
                    <param id="0" name="Object">T_Grid</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="345633934050754" type="SF_StaticText">
                    <param id="0" name="Text">S_Whom.Name&amp;newline&amp;&quot;relation &quot;&amp;floor(S_Whom.relation)&amp;newline&amp;&quot;health: &quot;&amp;floor(S_Whom.currentHP)</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="787285905865038">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="168266677762088" type="S_Idea">
                            <param id="0" name="Instance variable">UIDOnMap</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">S_Whom.UID</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="104719749163458">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="494121450071471" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Flash" id="0" name="Flash" sid="764935276262126" type="S_Idea">
                                    <param id="0" name="&apos;On&apos; time">0.2</param>
                                    <param id="1" name="&apos;Off&apos; time">0.2</param>
                                    <param id="2" name="Duration">999</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="648024348614326">
            <conditions>
                <condition id="7" name="Cursor is over object" sid="438556532307711" type="Mouse">
                    <param id="0" name="Object">S_Hero</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="275326113005564" type="SF_StaticText">
                    <param id="0" name="Text">&quot;hero&quot;</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="673471067803794">
            <conditions>
                <condition id="7" inverted="1" name="Cursor is over object" sid="694114912977744" type="Mouse">
                    <param id="0" name="Object">S_Idea</param>
                </condition>
                <condition id="7" inverted="1" name="Cursor is over object" sid="345728046537033" type="Mouse">
                    <param id="0" name="Object">S_What</param>
                </condition>
                <condition id="7" inverted="1" name="Cursor is over object" sid="774135722901263" type="Mouse">
                    <param id="0" name="Object">S_Whom</param>
                </condition>
                <condition id="7" inverted="1" name="Cursor is over object" sid="829532895438280" type="Mouse">
                    <param id="0" name="Object">S_Hero</param>
                </condition>
            </conditions>
            <actions>
                <action id="0" name="Set text" sid="631352559426450" type="SF_StaticText">
                    <param id="0" name="Text">&quot;&quot;</param>
                </action>
                <action behavior="Flash" id="1" name="Stop flashing" sid="430475752862547" type="S_Whom" />
                <action behavior="Flash" id="1" name="Stop flashing" sid="247654570135494" type="S_What" />
                <action behavior="Flash" id="1" name="Stop flashing" sid="537996723302475" type="S_Idea" />
            </actions>
        </event-block>
        <event-block sid="921575796525056">
            <conditions>
                <condition id="-24" name="For Each (ordered)" sid="628414114039203" type="System">
                    <param id="0" name="Object">Sort</param>
                    <param id="1" name="Expression">sort.bboxbottom</param>
                    <param id="2" name="Order">0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-24" name="Move to top" sid="864010343863603" type="Sort" />
            </actions>
        </event-block>
        <event-block sid="723815977735589">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="932089852462018" type="S_What">
                    <param id="0" name="Object">S_Whom</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="310853087956649">
                    <conditions>
                        <condition behavior="Bullet" id="0" name="Compare speed" sid="923214914791649" type="S_What">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Speed">0</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="823381543869908" type="S_Hero">
                            <param id="0" name="Instance variable">CarryOn</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Call function" sid="691794140520009" type="Function">
                            <param id="0" name="Name">&quot;InteractWithSomeone&quot;</param>
                            <param id="1" name="Parameter {n}">S_Whom.UID</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
